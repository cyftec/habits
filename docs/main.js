var zX=(X)=>{const $=Object.entries(X).sort((J,Q)=>J[0].localeCompare(Q[0]));return $.forEach(([J,Q],W)=>{if(Q&&typeof Q==="object"&&!Array.isArray(Q))$[W]=[J,zX(Q)]}),Object.fromEntries($)},t=(X)=>{if(typeof X!=="object"||X===null||Array.isArray(X))return!1;return Object.prototype.toString.call(X)==="[object Object]"},n=(X)=>{if(Array.isArray(X)){const $=[...X],J=[];return $.forEach((Q)=>{J.push(n(Q))}),J}if(t(X)){const $={...X},J={};return Object.keys($).forEach((Q)=>{J[Q]=n($[Q])}),Object.freeze(J)}return X},m=(X)=>{if(Array.isArray(X)){const J=[...X],Q=[];return J.forEach((W)=>{Q.push(m(W))}),Q}if(t(X)){const J={...X},Q={};return Object.keys(J).forEach((W)=>{Q[W]=m(J[W])}),Q}return X},EX=(X,$="index")=>X.map((J,Q)=>({[$]:Q,value:J})),H0=(X,$)=>{const J=zX(X),Q=zX($),W=Object.keys(J),q=Object.keys(Q);if(W.length!==q.length)return!1;for(let Z of W)if(!q.includes(Z)||!FX(J[Z],Q[Z]))return!1;return!0},N0=(X,$)=>{if(X.length!==$.length)return!1;if(X.length===0)return!0;for(let J=0;J<X.length;J++)if(!FX(X[J],$[J]))return!1;return!0},FX=(X,$)=>{if(typeof X!==typeof $)return!1;if(Array.isArray(X))return N0(X,$);if(X===null||$===null)return X===$;if(typeof X==="object"&&!(X instanceof Set))return H0(X,$);if(typeof X==="bigint"||typeof X==="number"||typeof X==="string"||typeof X==="boolean")return X===$;return X===$},x0=(X,$,J)=>{const W=EX(m(X),"index");return EX(m($),"index").map((Z)=>{let G="add",R=-1;const B=Z.value;return W.some((U,K)=>{if(G=FX(U.value,Z.value)?U.index===Z.index?"idle":"shuffle":J&&U.value[J]!==void 0&&U.value[J]===Z.value[J]?"update":"add",G!=="add")return R=U.index,W.splice(K,1),!0;return!1}),{type:G,oldIndex:R,value:B}})},M0=(X)=>{const $=(J)=>X((Q)=>{const W=Array.from(Q);return J(W),W});return{copyWithin:(...J)=>$((Q)=>Q.copyWithin(...J)),fill:(...J)=>$((Q)=>Q.fill(...J)),pop:(...J)=>$((Q)=>Q.pop(...J)),push:(...J)=>$((Q)=>Q.push(...J)),remove:(...J)=>{const Q=J[0],W=(...q)=>!Q(...q);J[0]=W,X((q)=>{return q.filter(...J)})},reverse:(...J)=>$((Q)=>Q.reverse(...J)),shift:(...J)=>$((Q)=>Q.shift(...J)),sort:(...J)=>$((Q)=>Q.sort(...J)),splice:(...J)=>$((Q)=>Q.splice(...J)),unshift:(...J)=>$((Q)=>Q.unshift(...J))}},w0=(X)=>{return{set:($)=>X((J)=>({...J,...$}))}},GX=null,OX=(X)=>GX=X,S=(X)=>{let $=n(X);const J=new Set,Q=()=>{J.forEach((Z)=>{if(Z.canDisposeNow){J.delete(Z);return}Z()})},W=(Z)=>{$=Z,Q()},q={type:"source-signal",get value(){if(GX)J.add(GX);return m($)},set value(Z){if(Z===$)return;W(n(Z))}};return Array.isArray(X)?Object.assign(q,M0((Z)=>W(Z($)))):typeof X==="object"&&X!==null?Object.assign(q,w0((Z)=>W(Z($)))):q},d=(X)=>{const $=X;return $.canDisposeNow=!1,$.dispose=()=>{$.canDisposeNow=!0},OX($),X(),OX(null),$},_=(X)=>{let $;const J=S($),Q=d(()=>{$=X($),J.value=$});return{type:"derived-signal",get prevValue(){return $},get value(){return J.value},dispose(){Q.dispose()}}},H=(...X)=>{X.forEach(($)=>$.dispose())},k0=(X)=>{return{type:"non-signal",value:X}},z=(X)=>XX(X)?X.value:X,C=(X)=>["source-signal","derived-signal"].includes(X?.type),e=(X,$)=>X?.type==="non-signal"&&(!$||!$.length||$.some((J)=>typeof X?.value===J)),XX=(X)=>C(X)||e(X),D=(X,...$)=>{return _(()=>{const J=$.map((Q)=>z(Q));return X(...J)})},A=(X)=>{const $=typeof X==="function"?X:()=>z(X);return{...{get truthy(){return _(()=>!!$())},get falsy(){return _(()=>!$())},get truthyFalsyPair(){return _(()=>{const Q=!!$();return[Q,!Q]})},ternary:(Q,W)=>_(()=>{return $()?z(Q):z(W)})},or:(Q)=>A(()=>{return!!($()||z(Q))}),orNot:(Q)=>A(()=>{return!!($()||!z(Q))}),and:(Q)=>A(()=>{return!!($()&&z(Q))}),andNot:(Q)=>A(()=>{return!!($()&&!z(Q))}),equals:(Q)=>A(()=>{return $()===z(Q)}),notEquals:(Q)=>A(()=>{return $()!==z(Q)}),orBothEqual:(Q,W)=>A(()=>{const q=$(),Z=z(Q)===z(W);return!!(q||Z)}),orBothUnequal:(Q,W)=>A(()=>{const q=$(),Z=z(Q)!==z(W);return!!(q||Z)}),andBothEqual:(Q,W)=>A(()=>{const q=$(),Z=z(Q)===z(W);return!!(q&&Z)}),andBothUnequal:(Q,W)=>A(()=>{const q=$(),Z=z(Q)!==z(W);return!!(q&&Z)}),orThisIsLT:(Q,W)=>A(()=>{const q=$(),Z=z(Q)<z(W);return!!(q||Z)}),orThisIsLTE:(Q,W)=>A(()=>{const q=$(),Z=z(Q)<=z(W);return!!(q||Z)}),orThisIsGT:(Q,W)=>A(()=>{const q=$(),Z=z(Q)>z(W);return!!(q||Z)}),orThisIsGTE:(Q,W)=>A(()=>{const q=$(),Z=z(Q)>=z(W);return!!(q||Z)}),andThisIsLT:(Q,W)=>A(()=>{const q=$(),Z=z(Q)<z(W);return!!(q&&Z)}),andThisIsLTE:(Q,W)=>A(()=>{const q=$(),Z=z(Q)<=z(W);return!!(q&&Z)}),andThisIsGT:(Q,W)=>A(()=>{const q=$(),Z=z(Q)>z(W);return!!(q&&Z)}),andThisIsGTE:(Q,W)=>A(()=>{const q=$(),Z=z(Q)>=z(W);return!!(q&&Z)})}},h=(X)=>{const $=typeof X==="function"?X:()=>z(X);return{...A(X),get result(){return _($)},add:(J)=>h(()=>{return $()+z(J)}),sub:(J)=>h(()=>{return $()-z(J)}),mul:(J)=>h(()=>{return $()*z(J)}),div:(J)=>h(()=>{return $()/z(J)}),mod:(J)=>h(()=>{return $()%z(J)}),pow:(J)=>h(()=>{return $()**z(J)}),isBetween:(J,Q,W=!0,q=!0)=>A(()=>{const Z=$(),G=z(J),R=z(Q),B=W?Z>=G:Z>G,U=q?Z<=R:Z<R;return B&&U}),isLT:(J)=>A(()=>$()<z(J)),isLTE:(J)=>A(()=>$()<=z(J)),isGT:(J)=>A(()=>$()>z(J)),isGTE:(J)=>A(()=>$()>=z(J))}},T0=(X)=>{const $=typeof X==="function"?X:()=>z(X);return{...A(X),lengthBetween:(J,Q,W=!0,q=!0)=>A(()=>{const G=$().length,R=z(J),B=z(Q),U=W?G>=R:G>R,K=q?G<=B:G<B;return U&&K}),lengthEquals:(J)=>A(()=>{return $().length===z(J)}),lengthNotEquals:(J)=>A(()=>{return $().length!==z(J)}),lengthLT:(J)=>A(()=>{return $().length<z(J)}),lengthLTE:(J)=>A(()=>{return $().length<=z(J)}),lengthGT:(J)=>A(()=>{return $().length>z(J)}),lengthGTE:(J)=>A(()=>{return $().length>=z(J)})}},k=(X)=>{const J=(typeof X==="function"?X:()=>z(X))();return typeof J==="number"?h(X):typeof J==="string"||Array.isArray(J)?T0(X):A(X)},KX=(...X)=>X.map(($)=>z($)),u=(X)=>{return{get string(){return _(()=>{const $=z(X);return $===void 0||$===null?void 0:$.toString()})},or:($)=>_(()=>z(X)||z($))}},E0=(X)=>{const J=["at","copyWithin","fill","includes","indexOf","join","lastIndexOf","slice","with"].reduce((Q,W)=>{const q=(...Z)=>{return _(()=>{const G=KX(...Z);return z(X)[W](...G)})};return Q[W]=q,Q},{});return{...u(X),...J,concat:(Q)=>_(()=>z(X).concat(z(Q))),every:(Q)=>_(()=>z(X).every(Q)),filter:(Q)=>_(()=>z(X).filter(Q)),find:(Q)=>_(()=>z(X).find(Q)),findIndex:(Q)=>_(()=>z(X).findIndex(Q)),findLast:(Q)=>_(()=>z(X).findLast(Q)),findLastIndex:(Q)=>_(()=>z(X).findLastIndex(Q)),get lastItem(){return _(()=>{return m(z(X)).pop()})},get length(){return _(()=>z(X).length)},map:(Q)=>_(()=>z(X).map(Q)),partition:(Q)=>{const W=_(()=>z(X).filter(Q)),q=_(()=>z(X).filter((Z,G,R)=>!Q(Z,G,R)));return[W,q]},reduce:(Q,W)=>_(()=>z(X).reduce(Q,W)),reduceRight:(Q,W)=>_(()=>z(X).reduceRight(Q,W)),get reversed(){return _(()=>z(X).toReversed())},some:(Q)=>_(()=>z(X).every(Q)),toSorted:(Q)=>_(()=>z(X).toSorted(Q)),toSpliced:(Q,W,...q)=>_(()=>z(X).toSpliced(z(Q),z(W),...q))}},O0=(X)=>{const J=["toExponential","toFixed","toPrecision"].reduce((Q,W)=>{const q=(...Z)=>{return _(()=>{const G=KX(...Z);return z(X)[W](...G)})};return Q[W]=q,Q},{});return{...u(X),...J,toConfined:(Q,W)=>_(()=>z(X)<z(Q)?z(Q):z(X)>z(W)?z(W):z(X)),toLocaleString:(Q,W)=>_(()=>z(X).toLocaleString(z(Q),W))}},D0=(X)=>{if(!t(z(X)))throw new Error("Thee argument should be a plain object or a signal of plain object");return{...u(X),prop:($)=>_(()=>z(X)[$]),get props(){return Object.keys(z(X)).reduce((J,Q)=>{const W=Q;return J[W]=this.prop(W),J},{})},get keys(){return _(()=>Object.keys(z(X)))}}},CX=(X)=>{const J=["at","charAt","charCodeAt","codePointAt","concat","endsWith","includes","indexOf","lastIndexOf","padEnd","padStart","repeat","slice","startsWith","substring","trim","trimEnd","trimStart"].reduce((Q,W)=>{const q=(...Z)=>{return _(()=>{const G=KX(...Z);return z(X)[W](...G)})};return Q[W]=q,Q},{});return{...u(X),...J,get length(){return _(()=>z(X).length)},get lowercase(){return _(()=>z(X).toLowerCase())},get Sentencecase(){return _(()=>{const Q=z(X);return Q.charAt(0).toUpperCase()+Q.slice(1).toLowerCase()})},get TitleCase(){return _(()=>z(X).toLowerCase().replace(/\b\w/g,(Q)=>Q.toUpperCase()))},get UPPERCASE(){return _(()=>z(X).toUpperCase())},localeCompare:(Q,W,q)=>_(()=>z(X).localeCompare(z(Q),z(W),q)),normalize:(Q)=>_(()=>z(X).normalize(z(Q))),replace:(Q,W)=>_(()=>z(X).replace(z(Q),z(W))),replaceAll:(Q,W)=>_(()=>z(X).replaceAll(z(Q),z(W))),search:(Q)=>_(()=>z(X).search(Q)),split:(Q,W)=>_(()=>{const q=Q instanceof RegExp?Q:z(Q);return z(X).split(q,z(W))}),toLocaleLowerCase:(Q)=>_(()=>z(X).toLocaleLowerCase(z(Q))),toLocaleUpperCase:(Q)=>_(()=>z(X).toLocaleUpperCase(z(Q)))}},f0=S("dksjfbksjnd"),w7=CX(f0).split(""),x=(X)=>{return typeof z(X)==="number"?O0(X):typeof z(X)==="string"?CX(X):Array.isArray(z(X))?E0(X):t(z(X))?D0(X):u(X)},F=(X,...$)=>_(()=>{return X.reduce((J,Q,W)=>{let q;const Z=$[W];if(typeof Z==="function")q=Z()??"";else if(XX(Z))q=Z.value??"";else q=Z??"";return`${J}${Q}${q.toString()}`},"")}),gX=["onmount","onunmount"],bX=["onerror","onload","onresize","onblur","onchange","oncontextmenu","onfocus","oninput","oninvalid","onreset","onselect","onsubmit","onkeydown","onkeypress","onkeyup","onclick","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onscroll","onabort","oncanplay","oncanplaythrough","ondurationchange","onemptied","onended","onerror","onloadeddata","onloadedmetadata","onloadstart","onpause","onplay","onplaying","onprogress","onratechange","onseeked","onseeking","onstalled","onsuspend","ontimeupdate","onvolumechange","onwaiting"],S0=[...bX,...gX],I0=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","big","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","meta","meter","nav","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr"],i,hX=(X)=>{if(!i)i=document.createElement("textarea");return i.innerHTML=X,i.value},V0=(X)=>{try{return decodeURIComponent(X)}catch{return X}},y0=(X)=>{return X.replace(/\\u[\dA-Fa-f]{4}/g,($)=>String.fromCharCode(parseInt($.slice(2),16))).replace(/\\x[\dA-Fa-f]{2}/g,($)=>String.fromCharCode(parseInt($.slice(2),16)))},C0=()=>{let X=0;return{getNewId:()=>++X,resetIdCounter:()=>X=0}},vX=C0(),f={currentIs:(X)=>window._currentAppPhase===X,start:(X)=>{window._currentAppPhase=X,console.log(`Current phase is ${X}`)}},cX=(X,$,J)=>{let Q=X;Q=hX(Q),Q=V0(Q),Q=y0(Q);const W=Q.trim().toLowerCase();for(let q of $)if(q.test(W))throw J;return X},g0=(X)=>cX(X,[/^javascript\s*:/i,/^data\s*:/i,/^vbscript\s*:/i,/^file\s*:/i],'The href attribute value starting with one of "javascript:", "data:", "vbscript:" or "file:" is not allowed.'),b0=(X)=>cX(X,[/url\s*\(/i,/expression\s*\(/i,/javascript\s*:/i,/data\s*:/i,/vbscript\s*:/i,/file\s*:/i],'The style attribute value starting with one of "url(..", "expression(..", "javascript:", "data:", "vbscript:" or "file:" is not allowed.'),h0=(X,$)=>{if(X==="href"){if(typeof $==="boolean")throw"The value of 'href' attribute should not be a boolean";return g0($||"")}if(X==="style"){if(typeof $==="boolean")throw"The value of 'style' attribute should not be a boolean";return b0($||"")}return $},PX=(X)=>Array.isArray(X),s=(X)=>!isNaN(X?.elementId)&&X?.elementId>0,y=(X)=>X===void 0||typeof X==="string"||typeof X==="function"&&X.isElementGetter,mX=(X)=>PX(X)&&X.every(($)=>y($)),pX=(X)=>y(X)||mX(X),dX=(X)=>e(X)&&y(X.value),RX=(X)=>C(X)&&y(X.value),v0=(X)=>e(X)&&pX(X.value),uX=(X)=>C(X)&&pX(X.value),rX=(X)=>PX(X)&&X.every(($)=>y($)||dX($)||RX($)),c0=(X)=>!C(X)&&(y(X)||v0(X)||rX(X)),oX=(X)=>c0(X)||uX(X),DX=!1,m0={},c={},p0=globalThis.MutationObserver,d0=new p0((X)=>{X.forEach(($)=>{if($.type==="childList")$.addedNodes.forEach((J)=>{if(s(J)){const Q=J,W=Q.elementId;if(c[W])delete c[W];else m0[W]=Q.tagName}}),$.removedNodes.forEach((J)=>{if(s(J)){const Q=J,W=Q.elementId,q=Q.unmountListener;if(q)c[W]={element:Q,unmountListener:q}}})}),Object.entries(c).forEach(([$,J])=>{const{element:Q,unmountListener:W}=J;iX(Q,W)})}),iX=(X,$)=>{if(!s(X))return;const J=X.children;for(let Q=0;Q<J.length;Q++){const W=J[Q];iX(W,W.unmountListener)}if($&&$(X),c[X.elementId])delete c[X.elementId]},u0=()=>{if(!DX&&!f.currentIs("build"))d0.observe(document.body,{childList:!0,subtree:!0}),DX=!0},nX=(X,$)=>S0.includes(X)&&$===void 0,sX=(X,$)=>bX.includes(X)&&typeof $==="function",lX=(X,$)=>gX.includes(X)&&typeof $==="function",r0=(X,$)=>nX(X,$)||sX(X,$)||lX(X,$),o0=(X,$)=>{Object.entries($).forEach(([J,Q])=>{if(nX(J,Q));else if(sX(J,Q)){const W=J.slice(2);X.addEventListener(W,(q)=>{if(W==="keypress")q.preventDefault();Q(q)})}else if(lX(J,Q)){if(J==="onmount"&&!f.currentIs("build")){const W=Q;setTimeout(()=>W(X),0)}if(J==="onunmount"){u0();const W=X.unmountListener;X.unmountListener=(q)=>{if(Q(q),typeof W==="function")W(q)}}}else console.error(`Invalid event key: ${J} for element with tagName: ${X.tagName}`)})},fX=(X,$,J)=>{const Q=XX(J)?J.value:J,W=h0($,Q);if(typeof W==="boolean")if(W)X.setAttribute($,"");else X.removeAttribute($);else if($==="value")X.value=W||"";else X.setAttribute($,W||"")},i0=(X,$)=>{const J={};Object.entries($).forEach((W)=>{const[q,Z]=W;if(C(Z))J[q]=Z;fX(X,q,Z)});const Q=d(()=>{Object.entries(J).forEach((W)=>{const[q,Z]=W,G=Z.value;if(!f.currentIs("run"))return;fX(X,q,G)})});X.effects.push(Q)},n0=(X)=>{if(!X||typeof X==="string")return document.createTextNode(hX(X||""));if(y(X)){const $=X();if(!s($))throw new Error(`Invalid MHtml element getter child. Type: ${typeof X}`);return $}throw new Error(`Invalid child. Type of child: ${typeof X}`)},ZX=(X,$,J)=>{const Q=X.childNodes[J],W=n0($);if(Q&&W)X.replaceChild(W,Q);else if(W)X.appendChild(W);else console.error(`No child found for node with tagName: ${X.tagName}`)},s0=(X,$)=>{if(!$)return;if(uX($)){const W=d(()=>{const q=$.value,Z=PX(q)?q:[q];Z.forEach((R,B)=>ZX(X,R,B));const G=Z.length;while(G<X.childNodes.length){const R=X.childNodes[G];if(R)X.removeChild(R)}});X.effects.push(W)}const J=y($)?[$]:e($)?y($.value)?[$.value]:mX($.value)?$.value:[]:rX($)?$.map((W)=>RX(W)?W:dX(W)?W.value:W):[],Q=[];if(J.forEach((W,q)=>{if(RX(W))Q.push({index:q,signalChild:W});const Z=z(W);ZX(X,Z,q)}),Q.length)Q.forEach(({index:W,signalChild:q})=>{const Z=d(()=>{const G=q.value;if(!f.currentIs("run"))return;ZX(X,G,W)});X.effects.push(Z)})},l0=(X,$)=>{let J=void 0;const Q={},W={};return Object.entries(X).forEach(([q,Z])=>{if(q==="children")if(oX(Z))J=Z;else throw new Error(`Invalid children prop for node with tagName: ${$}\n\n ${JSON.stringify(Z)}`);else if(r0(q,Z))Q[q]=Z;else W[q]=Z}),{children:J,eventProps:Q,attributeProps:W}},a0=(X,$)=>{const J=()=>{const Q=vX.getNewId(),W=f.currentIs("mount")?document.querySelector(`[data-elem-id="${Q}"]`):document.createElement(X);W.elementId=Q,W.effects=[],W.unmountListener=()=>{W.effects.forEach((G)=>G.dispose())};const q=oX($)?{children:$}:$;if(!f.currentIs("run"))q["data-elem-id"]=W.elementId.toString();const Z=l0(q,W.tagName);if(o0(W,Z.eventProps),i0(W,Z.attributeProps),s0(W,Z.children),!f.currentIs("build"))W.removeAttribute("data-elem-id");return W};return J.isElementGetter=!0,J},SX=(X,$,J)=>{const Q=S($),W=S(X),q=J(_(()=>W.value),_(()=>Q.value));let Z,G,R=!1;if(q?.isElementGetter)Z=()=>{if(R&&G)return G;return G=q(),R=!0,G},Z.isElementGetter=!0;else if(!q||typeof q==="string")Z=q||"";else throw`One of the child, ${q} passed in ForElement is invalid.`;return{indexSignal:Q,itemSignal:W,mappedChild:Z}},YX=(X,$,J)=>{if($!==void 0&&$>=0&&J){const Q=$>X.length?X.length:$;X.splice(Q,0,J)}return X},t0=({subject:X,itemKey:$,map:J,n:Q,nthChild:W})=>{if(W&&Q===void 0||Q!==void 0&&Q>-1&&!W)throw new Error("Either both 'n' and 'nthChild' be passed or none of them.");let q=W;if(W&&typeof W!=="string"){const P=W(),N=()=>P;N.isElementGetter=!0,q=N}if(!C(X))return YX(z(X).map(J),Q,q);const Z=_(()=>{const P=z(X);return Array.isArray(P)?P:[]});if(!$)return _(()=>YX(Z.value.map(J),Q,q));const G=Z.value;if(G.length&&typeof G[0]!=="object")throw new Error("for mutable map, item in the list must be an object");let R=null;const B=_((P)=>{return R=P||R,Z.value}),U=_((P)=>{if(!P||!R)return B.value.map((w,M)=>SX(w,M,J));return x0(R,B.value,$).map((L,w)=>{const M=(P||[])[L.oldIndex];if(console.assert(L.type==="add"&&L.oldIndex===-1&&!M||L.oldIndex>-1&&!!M,"In case of mutation type 'add' oldIndex should be '-1', or else oldIndex should always be a non-negative integer."),M){if(L.type==="shuffle")M.indexSignal.value=w;if(L.type==="update")M.indexSignal.value=w,M.itemSignal.value={...L.value};return M}return SX(L.value,w,J)})});return _(()=>YX(U.value.map((P)=>P.mappedChild),Q,q))},e0=({subject:X,isTruthy:$,isFalsy:J})=>{const Q=Y.Span({style:"display: none;"}),W=()=>z(X)?$?$(X):Q:J?J(X):Q;return C(X)?_(W):W()},X1=({subject:X,caseMatcher:$,defaultCase:J,cases:Q})=>{const W=()=>{const q=z(X),Z=z(Q);let G=void 0;for(let[R,B]of Object.entries(Z)){const U=$&&$(q,R),K=`${q}`===R;if(U||K){G=B();break}}return G||J&&J()||Y.Span({style:"display: none;"})};return C(X)?_(W):W()},$1=I0.reduce((X,$)=>{const J=$.split("").map((W,q)=>!q?W.toUpperCase():W).join(""),Q=(W)=>a0($,W);return X[J]=Q,X},{}),Q1={For:t0,If:e0,Switch:X1},Y={...$1,...Q1},J1=(X)=>{const $=z(X);return Array.isArray($)&&$.some((J)=>XX(J))},j=(X)=>($)=>{for(let Q of Object.keys($))if($[Q]===void 0)delete $[Q];const J=Object.entries($).reduce((Q,W)=>{const[q,Z]=W,G=C(Z)||typeof Z==="function"?Z:J1(Z)?z(Z):k0(z(Z));return Q[q]=G,Q},{});return X(J)},W1=["#e87b52","#F5E06F","#A3BA64","#7095C9","#A59EE3","#D89DBF"],q1=[1,1,1,1,1,1,1],Z1=[{name:"Not Applicable",code:-1,isMaxLevel:!1},{name:"Paused",code:-2,isMaxLevel:!1},{name:"Stopped",code:-3,isMaxLevel:!1}],Y1=["Not started","Completed"],z1=[70,60,45],_X={id:"analytics",lastInteraction:(new Date()).getTime()},IX=[{icon:"calendar_month",decending:!0,label:"Date created (Newest first)"},{icon:"calendar_month",decending:!1,label:"Date created (Oldest first)"},{icon:"task_alt",decending:!0,label:"Completion (Highest first)"},{icon:"task_alt",decending:!1,label:"Completion (Lowest first)"}],G1=60000,l=86400000,R1=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],_1=["January","February","March","April","May","June","July","August","September","October","November","December"],B1=(X)=>X*G1,U1=(X,$)=>R1[X].substring(0,$),F1=(X,$)=>_1[X].substring(0,$),AX=(X)=>{return new Date(X.getFullYear(),X.getMonth(),X.getDate())},V=(X)=>AX(X).getTime(),r=(X,$)=>V(X)===V($),K1=(X,$)=>{const J=$||new Date;return V(X)>V(J)},jX=(X,$)=>{const J=V(X),Q=V($);return Math.round((Q-J)/l)},P1=(X)=>jX(new Date,X),LX=(X,$)=>new Date(X.getFullYear(),X.getMonth(),X.getDate()+$),A1=(X,$)=>{if($<1)throw"N should be some positive integer";const J=V(X);return Array($).fill(0).map((Q,W)=>new Date(J-($-1-W)*l))},j1=(X)=>{const $=new Date;return Array(X).fill(0).map((J,Q)=>new Date($.getFullYear(),$.getMonth()-Q,1)).reverse()},L1=(X,$)=>{const J=V(X),Q=V($);if(J===Q)return[AX(new Date(J))];const W=J<Q?J:Q,Z=((J<Q?Q:J)-W)/l;return Array(Z+1).fill(0).map((G,R)=>new Date(W+R*l))},H1=(X)=>{if(X<1)throw"";const $=new Date,J=$.getFullYear(),Q=$.getMonth(),W=new Date(J,Q-(X-1),1),q=new Date(J,Q+1,0);return{startDate:W,endDate:q}},aX={href:"/",HABITS:{href:"/habits/",NEW:{href:"/habits/new/"},HABIT:{href:"/habits/habit/",EDIT:{href:"/habits/habit/edit/"}}},SETTINGS:{href:"/settings/",PRIVACY_POLICY:{href:"/settings/privacy-policy/"}}},N1=(X)=>location.href=X,tX=()=>location.href=aX.HABITS.NEW.href,x1=(X)=>location.href=`${aX.HABITS.HABIT.href}?id=${X}`,M1=1.6181,w1=(X)=>Z1.find(($)=>$.code===X),eX=(X,$)=>{return X<0?w1(-1):{isMaxLevel:X===$.length-1,name:$[X],code:X}},k1=(X)=>({key:X.getTime(),level:eX(-1,[]),date:X}),T1=(X,$,J)=>({key:J.getTime(),level:eX(X,$),date:J}),HX=(X,$)=>X.find((J)=>r(J.date,$)),E1=(X)=>n1().filter(($)=>{const J=!$.isStopped,Q=$.frequency[X.getDay()],W=V(X)>=V(new Date($.id));return J&&Q&&W}),NX=(X)=>{const $=AX(new Date(X.id));return{...X,startDate:$,levels:X.levels.map((J,Q)=>({isMaxLevel:Q===X.levels.length-1,name:J,code:Q})),tracker:X.tracker.map((J,Q)=>T1(J,X.levels,LX($,Q))),milestones:f1(X.milestones)}},O1=(X)=>{return{...X,levels:X.levels.map(($)=>$.name),tracker:X.tracker.map(($,J)=>$.level.code),milestones:S1(X.milestones)}},D1=()=>{const $={id:(new Date()).getTime(),title:"",frequency:q1,colorIndex:0,levels:Y1,tracker:[],milestones:z1,pauses:[],isStopped:!1};return NX($)},f1=(X)=>[{label:"Successful",upperLimit:100,percent:X[0],icon:"verified_user",color:"green"},{label:"Little more to go",upperLimit:X[0],percent:X[1],icon:"done_all",color:"light-blue"},{label:"Going good",upperLimit:X[1],percent:X[2],icon:"check",color:"blue"},{label:"Unacceptable",upperLimit:X[2],percent:0,icon:"close",color:"red"}],S1=(X)=>X.filter(($)=>!!$.percent).map(($)=>$.percent),I1=(X,$)=>{let J=X[0];for(let Q=0;Q<X.length;Q++)if(J=X[Q],J.percent<=$)break;return{label:J.label,icon:J.icon,color:J.color}},X0=(X,$,J)=>{const Q=$0(X.tracker,$,J),W=X.levels.length-1;let q=0,Z=0,G=0,R=0,B=0,U=0;return Q.forEach((K,P)=>{if(q+=K.level.code>-1?1:0,Z+=K.level.code>0?1:0,G+=K.level.code>0?K.level.code:0,P===Q.length-1)return;const L=K.level.code<1;U=L?U+1:0;const M=100*((K.level.code>0?K.level.code:0)/(X.levels.length-1));R=Math.round(M)>50?R+1:0,B=L?0:B+1}),{title:X.title,aceStreak:R,followStreak:B,missed:U,percent:Math.round(100*(G/(q*W))),totalDays:q,workingDays:Z}},V1=(X,$,J,Q=!1)=>{const W=W1[J],q=X/($-1),G=Math.trunc(Math.pow(q,M1)*255).toString(16),R=G.length===1?`0${G}`:G,B=X<0||R==="0"?"transparent":`${W}${R}`,U=Q?X/($-1)>0.5?"white":"black":X<0?"lightgray":"transparent";return{backgroundColor:B,fontColor:U,peakBackgroundColor:W,levelPercent:Math.round(q*100)}},y1=(X,$,J)=>{const Q=B0(X.id),W=Q.tracker.map((Z)=>{if(r(Z.date,J))return{...Z,level:{...Z.level,code:$}};return Z}),q={...Q,tracker:W};s1(q)},C1=(X,$)=>{const J=[];for(let Q of $)if(!X.some((q)=>{if(r(q.date,Q))return J.push(q),!0;return!1}))J.push(k1(Q));return J},$0=(X,$,J)=>{const Q=L1($,J);return C1(X,Q)},g1=(X)=>{const J=jX(new Date,X);if(J<-2)return`${-J} days back`;if(J===-2)return"Day before yesterday";if(J===-1)return"Yesterday";if(J===0)return"Today";if(J===1)return"Tomorrow";if(J===2)return"Day after tomorrow";return`${J} days after`},b1=(X)=>{const $=new Date,J=new Date(X),Q=-P1(J);if(Q===0)return"Just created this habit today";if(Q===1)return"This habit started from yesterday";if(Q>1&&Q<5)return`Started following this ${Q} back`;const{aceStreak:W,followStreak:q,missed:Z}=X0(B0(X),LX($,-Q),$);if(W>=12)return`Nailed ${W} days in a row. Woah! Don't stop.`;if(W>=4)return`Doing good for ${W} days straight! Keep it up.`;if(q>=15)return`Didn't miss for ${q} days in a row. Kudos!`;if(q>=4)return`${q} days in a row. Nice! keep going.`;if(Z)`Missed ${Z} days. Impossible is I M Possible.`;return"Just stick to it. Patience is the key."},h1=()=>{const X=(new Date()).getTime(),$=i1();return X-$>B1(1)},v1=(X,$)=>{const J=X.map((Q)=>HX(Q.tracker,$));return{done:J.reduce((Q,W)=>Q+(W.level.isMaxLevel?1:0),0),started:J.reduce((Q,W)=>Q+(W.level.code>0&&!W.level.isMaxLevel?1:0),0),notDone:J.reduce((Q,W)=>Q+(W.level.code===0?1:0),0),total:X.reduce((Q,W)=>Q+W.levels.length-1,0)}},c1=(X,$)=>{const J=v1(X,$);if(J.done===0&&J.started===0&&J.notDone===0)return"";if(J.done===0&&J.started===0&&J.notDone>0)return`Update below ${J.notDone} tsaks for the day.`;if(J.done>0&&J.started===0&&J.notDone===0)return"Great! All tasks updated.";return`
    ${J.done?`${J.done} done.`:""}
    ${J.started?` ${J.started} started.`:""}
    ${J.notDone?` ${J.notDone} yet to start.`:""}
  `},m1=(X)=>[{label:"Today",icon:"calendar_month",isSelected:X==="/",href:"/"},{label:"Habits",icon:"checklist",isSelected:X==="/habits/",href:"/habits/"},{label:"Settings",icon:"settings",isSelected:X==="/settings/",href:"/settings/"}],p1=()=>{if(window.navigator?.vibrate)window.navigator.vibrate(3)},Q0=(X,$,J)=>{const Q=JSON.parse(X||"{}"),W=Q&&typeof Q==="object",q=Q[$];if(!W||!(J?q===J:!!q))return;return Q},T=(X)=>{return(...$)=>{return p1(),_0(new Date),X&&X(...$)}},J0="analytics",d1="id",u1="analytics",W0=(X)=>{localStorage.setItem(J0,JSON.stringify(X))},q0=()=>{if(!f.currentIs("run"))return _X;const X=()=>{const Q=localStorage.getItem(J0);return Q0(Q,d1,u1)};if(!X())W0(_X);const J=X();if(!J)throw"Error fetching analytics";return J},Z0=()=>{const X=[];for(let $ in localStorage){if(!localStorage.hasOwnProperty($))continue;X.push($)}return X},Y0=(X)=>X.startsWith("h."),xX=(X)=>`h.${X}`,z0=(X)=>{if(!Y0(X))return;const $=localStorage.getItem(X),J=Q0($,"title");if(!J)return;return J},r1=()=>{for(let X of Z0())if(Y0(X))return!1;return!0},G0=()=>{if(!f.currentIs("run"))return[];const X=[];for(let $ of Z0()){const J=z0($);if(!J)continue;X.push(J)}return X},R0=(X)=>{const $=xX(X.id);localStorage.setItem($,JSON.stringify(X))},o1=(X)=>{const $=xX(X);localStorage.removeItem($)},i1=()=>{if(!f.currentIs("run"))return _X.lastInteraction;return q0().lastInteraction},_0=(X)=>{const $=q0();W0({...$,lastInteraction:X.getTime()})},B0=(X)=>{const $=xX(X),J=z0($);if(!J)throw`Error fetching habit with id '${X}' from storage`;return NX(J)},n1=()=>{return G0().map(($)=>NX($))},U0=()=>{const X=G0();for(let $ of X){const J=new Date($.id),Q=new Date,W=jX(J,Q),q=[...$.tracker];if(W+2<=q.length)continue;const Z=q.length-1,G=new Date(J.getFullYear(),J.getMonth(),J.getDate()+Z),R=G.getDay();if(r(Q,G)){const B=q[Z];q[Z]=$.frequency[R]?B<0?0:B:-1}for(let B=q.length;B<=W;B++){const K=new Date(J.getFullYear(),J.getMonth(),J.getDate()+B).getDay();q[B]=$.frequency[K]?0:-1}$.tracker=q,R0($)}},s1=(X)=>{const $=O1(X);R0($)},l1=(X)=>o1(X),k7=j(({cssClasses:X,hideRemove:$,hideAdd:J,onRemove:Q,onAdd:W})=>{const q=k($).and(J).ternary("bn","ba"),Z=F`br3 pb1 f4 bw1 b--light-silver dark-gray ${q} ${X}`,G=k(J).ternary("","br"),R=F`pointer ph2 pb1 bw1 b--light-silver ${G}`,B=()=>H(q,Z,G,R);return Y.Span({onunmount:B,class:Z,children:[Y.If({subject:$,isFalsy:()=>Y.Span({class:R,onclick:T(Q),children:"-"})}),Y.If({subject:J,isFalsy:()=>Y.Span({class:"pointer ph2 pb1",onclick:T(W),children:"+"})})]})}),p=j(({cssClasses:X,onTap:$,onUnmount:J,children:Q})=>{const W=F`pointer noselect br-pill ba bw1 b--light-silver b--hover-black bg-white black ${X}`,q=()=>{if(H(W),J)J()};return Y.Button({onunmount:q,class:W,onclick:T(()=>$()),children:Q})}),T7=j(({cssClasses:X})=>{const $=F`bb b--light-gray ${X}`;return Y.Div({onunmount:()=>H($),class:$})}),b=j(({cssClasses:X,size:$,onClick:J,iconName:Q,title:W})=>{const Z=F`material-symbols-outlined ${J?"pointer":""} ${X}`,G=x($).or(16),R=F`font-size: ${G}px`;return Y.Span({onunmount:()=>H(Z,G,R),class:Z,style:R,onclick:T(J),children:Q,title:W})}),a1=j(({cssClasses:X,href:$,target:J,onClick:Q,children:W})=>{const q=k($).or(Q).ternary("pointer underline",""),Z=F`w-fit-content noselect ${q} ${X}`;return Y.A({onunmount:()=>H(q,Z),...$?{href:$}:{},class:Z,target:J,onclick:T(Q),children:W})}),$X=j(({cssClasses:X,isOpen:$,content:J,onTapOutside:Q,onUnmount:W})=>{const q=F`pa0 br3 ${X}`,Z=(R)=>{setTimeout(()=>d(()=>{if($.value)R.showModal();else R.close()}))},G=()=>{if(H(q),W)W()};return Y.Dialog({onmount:Z,onunmount:G,onclick:T(Q),class:q,children:[Y.Div({onclick:(R)=>R.stopPropagation(),children:J})]})}),E7=j(({cssClasses:X,placeholder:$,num:J,onchange:Q})=>{const W=x(J).string,q=(Z)=>{const G=Z.target.value,R=Number.parseFloat(Number.parseFloat(G||"0").toFixed(2));Q(R)};return Y.Input({onunmount:()=>H(W),class:X,type:"number",placeholder:$,value:W,onchange:q})}),t1=j(({progress:X,cssClasses:$})=>{const J=F`br-pill bg-moon-gray ${$}`,Q=F`width: ${x(X).toConfined(0,100)}%;`;return Y.Div({onunmount:()=>H(J,Q),class:J,children:Y.Div({class:"br-pill bg-app-theme-color pa1",style:Q})})}),e1=j(({cssClasses:X,header:$,content:J,bottombar:Q})=>{const W=F`w6-ns ${X}`;return Y.Div({onunmount:()=>H(W),class:"flex-ns justify-center-ns",children:Y.Div({class:W,children:[Y.If({subject:$,isTruthy:()=>Y.Div({class:"overflow-break-word sticky top-0 left-0 right-0 bg-inherit z-999 f2dot33 b pv3 mt2",children:$})}),J,Y.Div({class:"pv6 mt5"}),Y.If({subject:Q,isTruthy:()=>Y.Div({class:"sticky bottom-0 left-0 right-0 z-9999",children:Q})})]})})}),O7=j(({cssClasses:X,tabs:$,onTabChange:J})=>{const Q=F`bg-white br3 ${X}`,W=x($).map((q)=>{return{tabClasses:`
                w-100 br3 pv2dot5 ph2 flex justify-center noselect br-pill ba bw1 bg-inherit
                ${q.isSelected?`b--light-silver b black ${q.classes||""}`:"pointer b--transparent b--hover-black silver pointer"} ${q.classes}`,label:q.label}});return Y.Div({onunmount:()=>H(Q,W),class:Q,children:Y.Div({class:"flex items-center justify-between pa1",children:Y.For({subject:W,itemKey:"label",map:(q,Z)=>{const{tabClasses:G,label:R}=x(q).props;return Y.Span({onunmount:()=>H(G,R),onclick:T(()=>J(Z.value)),class:G,children:R})}})})})}),D7=j(({cssClasses:X,placeholder:$,disabled:J,text:Q,onmount:W,onchange:q,onkeydown:Z,onfocus:G,onblur:R})=>{let B;const U=k(J).truthy,K=(L)=>{if(B=L,W)W(L)},P=(L)=>{const w=L.target.value;if(q)q(w)},N=(L)=>{const w=L.key.length===1?B.value+L.key:L.key==="Backspace"?B.value.slice(0,-1):B.value,M={key:L.key,text:w};if(Z)Z(M)};return Y.Input({onmount:K,onunmount:()=>H(U),class:X,type:"text",placeholder:$,disabled:U,value:Q,onchange:P,onkeydown:N,onfocus:G,onblur:R})}),f7=j(({cssClasses:X,isOn:$,onToggle:J})=>{const Q=F`flex items-center pointer noselect br-pill ba bw1dot5 b--mid-gray b--hover-black bg-white pa05 black ${X}`,q=F`${"br-100 ba bw1 b--hover-black pa1"} ${()=>$.value?"b--transparent":"b--moon-gray bg-moon-gray"}`,Z=F`${"br-100 ba bw1 b--hover-black pa1"} ${()=>$.value?"b--mid-gray bg-mid-gray":"b--transparent"}`;return Y.Div({onunmount:()=>H(Q,q,Z),class:Q,onclick:T(J),children:[Y.Div({class:q}),Y.Div({class:"pa05"}),Y.Div({class:Z})]})}),F0=j(({cssClasses:X,justifyCssClasses:$,label:J})=>{const Q=x($).or("justify-end"),W=x(J).or("Add habit"),q=F`w-100 flex ${Q} ${X}`;return Y.Div({onunmount:()=>H(Q,W,q),class:q,children:p({cssClasses:"pa3 mb3 shadow-4 b flex items-center",children:[b({cssClasses:"nl1 mr1",size:22,iconName:"add"}),W],onTap:tX})})}),MX=j(({cssClasses:X,dotCssClasses:$,colorIndex:J,level:Q,totalLevels:W,showText:q,textContent:Z,icon:G,iconSize:R,isRectangular:B,showHeight:U,onClick:K})=>{const P=k(B).ternary("br0","br-100"),N=k(Q).isLT(0).ternary("bg-transparent","bg-light-gray"),L=D(V1,Q,W,J,q),{peakBackgroundColor:w,backgroundColor:M,fontColor:E,levelPercent:O}=x(L).props,g=x(Z).or("\u0387"),v=k(U).and(G).andThisIsGT(O,99).truthy,WX=F`pointer relative overflow-hidden ${P} ${N} ${X}`,o=F`flex items-center justify-around absolute left-0 right-0 bottom-0 br0 ${$}`,qX=F`
      background-color: ${w};
      color: white;
      height: ${O}%;`,kX=F`flex items-center justify-around absolute absolute--fill ${$}`,TX=F`
      background-color: ${M};
      color: ${E};`,A0=()=>{if(K&&Q.value>=0)K()},j0=()=>{H(P,N,L,w,M,E,O,g,v,WX,o,qX,kX,TX)};return Y.Span({onunmount:j0,class:WX,onclick:T(A0),children:Y.If({subject:U,isTruthy:()=>Y.Span({class:o,style:qX,children:Y.If({subject:v,isTruthy:()=>b({iconName:G,size:R})})}),isFalsy:()=>Y.Span({class:kX,style:TX,children:Y.If({subject:G,isTruthy:(L0)=>b({iconName:L0,size:R}),isFalsy:()=>Y.Span(g)})})})})}),X7=j(({habit:X,day:$,onColorDotClick:J})=>{const{id:Q,title:W,colorIndex:q,levels:Z,tracker:G}=x(X).props,R=x(Z).length,B=_(()=>{return HX(G.value,$.value).level.code}),U=k(B).isGT(0).truthy,K=k(B).isLT(1).ternary("b--light-silver","b--transparent"),P=F`pa3 mr3 ba b ${K}`,N=()=>H(Q,W,q,Z,G,R,B,U,K);return Y.Div({onunmount:N,class:"mt4 flex items-center",children:[MX({cssClasses:P,colorIndex:q,level:B,totalLevels:R,icon:"check",iconSize:22,showText:U,showHeight:!0,onClick:J}),Y.Div({class:"pointer",onclick:T(()=>x1(Q.value)),children:[Y.Div({class:"f5 fw6 f4-ns fw4-ns",children:W}),Y.Div({class:"f6 light-silver pt05",children:b1(Q.value)})]})]})}),S7=j(({cssClasses:X})=>{const $=F`pa3 flex items-center ${X}`;return p({onUnmount:()=>H($),cssClasses:$,children:[b({iconName:"arrow_back"}),Y.Span({class:"ml1",children:"Go Back"})],onTap:()=>history.back()})}),I7=j(({cssClasses:X,milestones:$,achievedMilestone:J,completionPercent:Q})=>{const W=x(J).prop("color"),q=D((P)=>P>53?"Average completion":P>43?"Avg completion":P>35?"Completion":"",Q),Z=F`center ${X}`,G=F`nt3dot6 h1dot2 bw1 relative br b--${W}`,R=F`width: ${Q}%;`,B=F`absolute right-0 pr1 b f6 ${W}`,U=F`${Q}%`,K=()=>H(W,q,Z,G,R,B,U);return Y.Div({onunmount:K,class:Z,children:[Y.Div({class:"pb2 w-100 relative",children:Y.For({subject:$,map:(P,N)=>{return $7({colorCss:`bg-${P.color}`,percent:P.upperLimit,hideUpperLimit:N===0})}})}),Y.Div({class:G,style:R,children:Y.Div({class:"relative flex items-start nt1 justify-between f7 mid-gray",children:[Y.Div(q),Y.Div({class:B,children:U})]})})]})}),$7=j(({colorCss:X,hideUpperLimit:$,percent:J})=>{const Q=k($).ternary("",F`${J}%`),W=F`width: ${J}%;`,q=F`absolute absolute-fill h0dot15 w-100 ${X}`;return Y.Div({onunmount:()=>H(Q,W,q),class:"absolute flex items-start h0dot5 bl br b--light-silver bw1",style:W,children:[Y.Div({class:q}),Y.Div({class:"flex justify-end w-100 pt2 f7",children:Y.Div({class:"nr3 pb2 light-silver b",children:Q})})]})}),Q7=j(({cssClasses:X,habit:$,date:J,colorIndex:Q,totalLevels:W})=>{const q=_(()=>{const B=J.value.getFullYear(),U=J.value.getMonth(),K=new Date(B,U,1),P=new Date(B,U+1,0);return $0($.value.tracker,K,P).map((N)=>({...N,level:N.level.code}))}),Z=F`flex items-center ${X}`,G=_(()=>F1(J.value.getMonth(),3)),R=()=>H(q,Z,G);return Y.Div({onunmount:R,class:Z,children:[Y.Div({class:"f8 b w2 light-silver",children:G}),Y.Div({class:"w-100 flex items-center justify-between",children:Y.For({subject:q,itemKey:"key",map:(B)=>{const U=x(B).prop("level");return MX({cssClasses:"pa1",colorIndex:Q,level:U,totalLevels:W})}})})]})}),V7=j(({cssClasses:X,habit:$,months:J,onClick:Q})=>{const{milestones:W,title:q,colorIndex:Z,levels:G}=x($).props,R=D((E,O)=>{const{startDate:g,endDate:v}=H1(E);return X0(O,g,v).percent},J,$),B=D(I1,W,R),{icon:U,color:K}=x(B).props,P=D((E)=>j1(E).map((O)=>({monthFirstDate:O,index:O.getTime()})),J),N=F`pointer bg-white ${X}`,L=F`mr1 ${K}`,w=F`${R}%`,M=()=>{H(W,q,Z,G,R,B,U,K,P,N,L,w)};return Y.Div({onunmount:M,class:N,onclick:T(Q),children:[Y.Div({class:"flex items-center justify-between nt1 mb2",children:[Y.Div({class:"f5 dark-gray b",children:q}),Y.Div({class:"f6 silver b flex items-center",children:[b({cssClasses:L,iconName:U}),w]})]}),Y.Div({class:"mt2 mb1",children:Y.For({subject:P,itemKey:"index",map:(E)=>{return Q7({cssClasses:"mb1",habit:$,date:x(E).prop("monthFirstDate"),colorIndex:Z,totalLevels:G.value.length})}})})]})}),J7=j(({cssClasses:X})=>{const $=F`flex flex-column items-center justify-around ${X}`;return Y.Div({onunmount:()=>H($),class:$,children:[Y.Img({class:"mt3 pt4",src:"/assets/images/just_landed.png",height:"200"}),Y.Div("Looks like, you just landed here!"),F0({cssClasses:"pt5",justifyCssClasses:"justify-around",label:"Add your first habit"})]})}),y7=j(({isOpen:X,habit:$,onClose:J,onDone:Q})=>{const W=F`Delete '${()=>$.value.title}'?`,q=()=>{l1($.value.id),Q()};return $X({onUnmount:()=>H(W),cssClasses:"bn w-30-ns",isOpen:X,onTapOutside:J,content:Y.Div({class:"pa3 f5",children:[Y.Div({class:"mb3 b f4",children:W}),Y.Div({class:"mb4",children:[`
              All the data and the achievements associated with this habit will be lost forever
              with this action, and cannot be reversed.
              `,Y.Br({}),Y.Br({}),`
              Are you sure, you want to DELETE this habit permanently?
              `]}),Y.Div({class:"flex items-center justify-between f6",children:[p({cssClasses:"w-25 pv2 ph3 mr1 b",children:"No",onTap:J}),p({cssClasses:"pv2 ph3 ml2 b red",children:"Yes, delete permanently",onTap:q})]})]})})}),W7=j(({isOpen:X,habit:$,date:J,showTitleInHeader:Q,onClose:W,onChange:q})=>{const{title:Z,levels:G,tracker:R,colorIndex:B}=x($).props,U=_(()=>Q?.value?`Change status of  '${Z.value}'`:`Change status for ${J.value.toDateString()}`),K=D(HX,R,J),P=x(G).length,N=_(()=>{const w=[...G.value];return w.reverse(),w.map((M,E)=>{const O=P.value-1-E,v=`pointer flex items-center pv3 pa3 bt b--moon-gray ${K.value?.level.code===O?"bg-near-white black fw6":"gray fw5"}`,o=`pa1 mr3 ba b ${O<1?"b--light-silver":"b--transparent"}`;return{levelName:M.name,levelCode:O,levelTileCSS:v,dotClasses:o}})});return $X({onUnmount:()=>H(Z,G,R,B,U,K,P,N),cssClasses:"f5 normal ba bw0 outline-0",isOpen:X,onTapOutside:W,content:Y.Div({class:"mnw5",children:[Y.Div({class:"f5 b tc pa3",children:U}),Y.Div({class:"f5 mb1",children:Y.For({subject:N,map:(w)=>{const{levelName:M,levelCode:E,levelTileCSS:O,dotClasses:g}=x(w).props;return Y.Div({onunmount:()=>H(M,E,O,g),class:O,onclick:T(()=>q(E.value)),children:[MX({cssClasses:g,colorIndex:B,level:E,totalLevels:G.value.length,isRectangular:!0}),Y.Span(M)]})}})})]})})}),C7=j(({isOpen:X,habit:$,onClose:J,onDone:Q})=>{const W=F`Stop '${()=>$.value.title}'?`;return $X({onUnmount:()=>H(W),cssClasses:"bn",isOpen:X,onTapOutside:J,content:Y.Div({class:"pa3 f5",children:[Y.Div({class:"mb3 b f4",children:W}),Y.Div({class:"mb4",children:["This action is not reversible. You will not be able to resume it again.",Y.Br({}),Y.Br({}),"Are you sure, you want to STOP this habit permanently?"]}),Y.Div({class:"flex items-center justify-between f6",children:[p({cssClasses:"w-100 pv2 ph3 mr2",children:"No, go back",onTap:J}),p({cssClasses:"w-100 pv2 ph3 ml2 b",children:"Yes, stop this",onTap:Q})]})]})})}),q7=j(({cssClasses:X,links:$})=>{const J=F`flex items-center justify-between pv3 bg-near-white ${X}`;return Y.Div({onunmount:()=>H(J),class:J,children:Y.For({subject:$,map:(Q)=>Z7({label:Q.label,icon:Q.icon,isSelected:Q.isSelected,href:Q.href})})})}),Z7=j(({cssClasses:X,label:$,icon:J,isSelected:Q,href:W})=>{const q=k(Q).ternary("app-theme-color b","black"),Z=F`pointer noselect flex flex-column items-center justify-center pb2 ${q} ${X}`;return Y.Div({onunmount:()=>H(q,Z),class:Z,onclick:T(()=>N1(W.value)),children:[b({size:22,iconName:J}),Y.Div({class:"f7",children:$})]})}),Y7=j(({cssClasses:X,header:$,content:J,navbarTop:Q,route:W})=>{return e1({cssClasses:X,header:$,content:J,bottombar:Y.Div({children:[Y.If({subject:Q,isTruthy:()=>Q}),q7({cssClasses:"nl3 nr3 ph4",links:D(m1,W)})]})})}),z7=j(({cssClasses:X,body:$,onMount:J,onUnMount:Q})=>{const W=S("stylesheet");return Y.Html({lang:"en",children:[Y.Head({onmount:()=>W.value="stylesheet",children:[Y.Meta({"http-equiv":"Content-Security-Policy",content:`
                default-src 'self';
                script-src 'self';
                style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://unpkg.com;
                font-src https://fonts.gstatic.com;
                object-src 'none';
                base-uri 'none';
              `}),Y.Meta({charset:"UTF-8"}),Y.Meta({"http-equiv":"X-UA-Compatible",content:"IE=edge"}),Y.Meta({name:"viewport",content:"width=device-width, initial-scale=1.0"}),Y.Link({rel:"icon",type:"image/x-icon",href:"/assets/images/favicon.ico"}),Y.Link({rel:W,href:"/assets/styles.css",as:"style"}),Y.Link({rel:"manifest",href:"/manifest.json"}),Y.Title("Habits (by Cyfer)")]}),Y.Body({tabindex:"-1",class:X,onmount:J,onunmount:Q,children:[Y.Script({src:"main.js",defer:!0}),$]})]})}),g7=j(({cssClasses:X,contentCssClasses:$,title:J,description:Q,hideDescription:W,children:q})=>{const Z=F`mt3 mb4 ${X}`,G=k(Q).andNot(W).truthy;return Y.Div({onunmount:()=>H(Z,G),class:Z,children:[Y.Div({class:"mb2 dark-gray f4 b",children:J}),Y.If({subject:G,isTruthy:()=>Y.Div({class:"mb3 f6 silver fw5",children:Q})}),Y.Div({class:$,children:q})]})}),b7=j(({cssClasses:X,iconSize:$,selectedOptionIndex:J,onChange:Q})=>{const W=S(!1),q=_(()=>IX[J.value]),Z=x(q).prop("decending"),G=x(q).prop("icon"),R=x($).or(20),B=()=>W.value=!0,U=()=>W.value=!1,K=(N)=>N===q.value.label?"bg-near-white black fw6":"gray fw5",P=(N)=>{Q(N),U()};return Y.Div({onunmount:()=>H(q,Z,G,R),class:X,children:[VX({cssClasses:"pointer",descending:Z,iconName:G,size:R,onClick:B}),$X({cssClasses:"f5 normal ba bw0 outline-0",isOpen:W,onTapOutside:U,content:Y.Div({children:[Y.Div({class:"f5 b tc pv3",children:"Sort habit cards by"}),Y.Div({class:"f5 mb1",children:Y.For({subject:IX,map:(N,L)=>Y.Div({class:`pointer flex items-center pv3 pl2 pr3 bt b--moon-gray ${K(N.label)}`,onclick:T(()=>P(L)),children:[VX({cssClasses:"ml1 mr2",descending:N.decending,iconName:N.icon,size:20}),Y.Span(N.label)]})})})]})})]})}),VX=j(({cssClasses:X,descending:$,iconName:J,size:Q,onClick:W})=>{const q=W?"pointer":"",Z=k($).ternary("arrow_upward","arrow_downward"),G=k(Q).mul(4).div(5).result;return Y.Span({class:F`flex items-center ${q} ${X}`,onclick:T(W),children:[b({cssClasses:"silver",iconName:Z,size:G}),b({size:Q,iconName:J})]})}),G7=j(({cssClasses:X,progress:$})=>{const J=F`flex flex-column justify-center items-center vh-100 ${X}`;return Y.Div({onunmount:()=>H(J),class:J,children:[Y.Img({class:"mt6 br4",src:"/assets/images/habits-logo.png",height:"100",width:"100"}),Y.Div({class:"f3 b mv3",children:"Habits"}),t1({cssClasses:"w-40",progress:$}),Y.Div({class:"mt7 pv4",children:"A Cyfer Product"})]})}),R7=j(({date:X,selectedDate:$,onChange:J})=>{const Q=D(K1,X),W=D(r,$,X),q=k(Q).ternary("light-gray b--transparent","light-silver pointer b--transparent"),Z=k(W).ternary("black b b--silver",q),G=F`bw1 ba br-pill ph2 pv3 pb2 tc ${Z}`,R=_(()=>U1(X.value.getDay(),3)),B=_(()=>("0"+X.value.getDate()).slice(-2)),U=()=>{if(W.value||Q.value)return;J(X.value)},K=()=>H(Q,W,q,Z,G,R,B);return Y.Div({onunmount:K,class:G,onclick:T(U),children:[Y.Div({class:"f7 ",children:R}),Y.Div({class:"mt2 f4",children:B})]})}),K0=new Date,BX=S(!1),a=S(0),UX=S(!1),_7=k(UX).andThisIsLT(a,100).truthy,I=S(K0),B7=A1(LX(K0,2),7),QX=D(E1,I),U7=D(g1,I),F7=D(c1,QX,I),K7=D((X)=>X.length===0?"No habit for the day! Add one.":X.length<5?`Only ${X.length} habits a day! Add more.`:"",QX),JX=S(!1),wX=S(0),P7=x(QX).at(wX),P0=x(P7).or(D1()),A7=(X)=>{JX.value=!0,wX.value=X},j7=()=>{JX.value=!1,wX.value=0},L7=(X)=>{y1(P0.value,X,I.value),JX.value=!1,I.value=new Date(I.value.getTime()+1)},H7=()=>{UX.value=h1();const X=setInterval(()=>{if(a.value+=1,a.value>=100)clearInterval(X),UX.value=!1,_0(new Date)},30)},yX=()=>{U0(),I.value=new Date,BX.value=r1()},N7=()=>{H7(),U0(),yX(),window.addEventListener("pageshow",yX)},x7=z7({cssClasses:"bg-white",onMount:N7,body:Y.Div({children:[W7({isOpen:JX,showTitleInHeader:!0,habit:P0,date:I,onClose:j7,onChange:L7}),Y.If({subject:_7,isTruthy:()=>G7({progress:a}),isFalsy:()=>Y7({cssClasses:"ph3 bg-white",route:"/",header:"Tasks in a day",content:Y.Div(Y.If({subject:BX,isTruthy:()=>J7({}),isFalsy:()=>Y.Div({children:[Y.Div({onmount:(X)=>X.scrollLeft=X.scrollWidth,class:"sticky top-3 bg-white pb2 flex items-center justify-between z-999 w-100",children:Y.For({subject:B7,map:(X)=>R7({date:X,selectedDate:I,onChange:($)=>I.value=$})})}),Y.Div({class:"mt2 mb2 f4 b",children:U7}),Y.Div({class:"mb4 pb2 silver",children:F7}),Y.Div({class:"mt4",children:Y.For({subject:QX,itemKey:"id",n:1/0,nthChild:a1({cssClasses:"flex pl5 pr3 nl3 mt4",onClick:tX,children:K7}),map:(X,$)=>X7({habit:X,day:I,onColorDotClick:()=>A7($.value)})})}),Y.Div({class:"pv6"})]})})),navbarTop:Y.Div(Y.If({subject:BX,isFalsy:()=>F0({})}))})})]})}),M7=()=>{f.start("mount"),vX.resetIdCounter(),x7(),f.start("run")};M7();
