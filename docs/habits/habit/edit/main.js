var ZX=(X)=>{let $=Object.entries(X).sort((Z,Q)=>Z[0].localeCompare(Q[0]));return $.forEach(([Z,Q],W)=>{if(Q&&typeof Q==="object"&&!Array.isArray(Q))$[W]=[Z,ZX(Q)]}),Object.fromEntries($)},$X=(X)=>{if(typeof X!=="object"||X===null||Array.isArray(X))return!1;return Object.prototype.toString.call(X)==="[object Object]"},n=(X)=>{if(Array.isArray(X)){let $=[...X],Z=[];return $.forEach((Q)=>{Z.push(n(Q))}),Z}if($X(X)){let $={...X},Z={};return Object.keys($).forEach((Q)=>{Z[Q]=n($[Q])}),Object.freeze(Z)}return X},c=(X)=>{if(Array.isArray(X)){let Z=[...X],Q=[];return Z.forEach((W)=>{Q.push(c(W))}),Q}if($X(X)){let Z={...X},Q={};return Object.keys(Z).forEach((W)=>{Q[W]=c(Z[W])}),Q}return X},KX=(X,$="index")=>X.map((Z,Q)=>({[$]:Q,value:Z})),U0=(X,$)=>{let Z=ZX(X),Q=ZX($),W=Object.keys(Z),J=Object.keys(Q);if(W.length!==J.length)return!1;for(let Y of W)if(!J.includes(Y)||!JX(Z[Y],Q[Y]))return!1;return!0},B0=(X,$)=>{if(X.length!==$.length)return!1;if(X.length===0)return!0;for(let Z=0;Z<X.length;Z++)if(!JX(X[Z],$[Z]))return!1;return!0},JX=(X,$)=>{if(typeof X!==typeof $)return!1;if(Array.isArray(X))return B0(X,$);if(X===null||$===null)return X===$;if(typeof X==="object"&&!(X instanceof Set))return U0(X,$);if(typeof X==="bigint"||typeof X==="number"||typeof X==="string"||typeof X==="boolean")return X===$;return X===$},_0=(X,$,Z)=>{let W=KX(c(X),"index");return KX(c($),"index").map((Y)=>{let G="add",B=-1,F=Y.value;return W.some((R,j)=>{if(G=JX(R.value,Y.value)?R.index===Y.index?"idle":"shuffle":Z&&R.value[Z]!==void 0&&R.value[Z]===Y.value[Z]?"update":"add",G!=="add")return B=R.index,W.splice(j,1),!0;return!1}),{type:G,oldIndex:B,value:F}})},l=null,L=(X)=>{let $=n(X),Z=new Set;return{type:"source-signal",get value(){if(l)Z.add(l);return c($)},set value(Q){if(Q===$)return;$=n(Q),Z.forEach((W)=>W&&W())}}},u=(X)=>{l=X,X(),l=null},U=(X)=>{let $,Z=L($);return u(()=>{$=X($),Z.value=$}),{type:"derived-signal",get prevValue(){return $},get value(){return Z.value}}},q=(X)=>YX(X)?X.value:X,y=(X)=>["source-signal","derived-signal"].includes(X?.type),HX=(X,$)=>X?.type==="non-signal"&&(!$||!$.length||$.some((Z)=>typeof X?.value===Z)),YX=(X)=>y(X)||HX(X),xX=(X)=>HX(X,["string"]),LX=(X)=>X?.type==="non-signal"&&Array.isArray(X?.value)&&(X?.value).every(($)=>typeof $==="string"),b=(X,...$)=>{return U(()=>{let Z=$.map((Q)=>q(Q));return X(...Z)})},f=(X)=>{let $=typeof X==="function"?X:()=>q(X);return{...{get truthy(){return U(()=>!!$())},get falsy(){return U(()=>!$())},get truthyFalsyPair(){return U(()=>{let Q=!!$();return[Q,!Q]})},ternary:(Q,W)=>U(()=>{return $()?q(Q):q(W)})},or:(Q)=>f(()=>{return!!($()||q(Q))}),orNot:(Q)=>f(()=>{return!!($()||!q(Q))}),and:(Q)=>f(()=>{return!!($()&&q(Q))}),andNot:(Q)=>f(()=>{return!!($()&&!q(Q))}),equals:(Q)=>f(()=>{return $()===q(Q)}),notEquals:(Q)=>f(()=>{return $()!==q(Q)}),orBothEqual:(Q,W)=>f(()=>{let J=$(),Y=q(Q)===q(W);return!!(J||Y)}),orBothUnequal:(Q,W)=>f(()=>{let J=$(),Y=q(Q)!==q(W);return!!(J||Y)}),andBothEqual:(Q,W)=>f(()=>{let J=$(),Y=q(Q)===q(W);return!!(J&&Y)}),andBothUnequal:(Q,W)=>f(()=>{let J=$(),Y=q(Q)!==q(W);return!!(J&&Y)}),orThisIsLT:(Q,W)=>f(()=>{let J=$(),Y=q(Q)<q(W);return!!(J||Y)}),orThisIsLTE:(Q,W)=>f(()=>{let J=$(),Y=q(Q)<=q(W);return!!(J||Y)}),orThisIsGT:(Q,W)=>f(()=>{let J=$(),Y=q(Q)>q(W);return!!(J||Y)}),orThisIsGTE:(Q,W)=>f(()=>{let J=$(),Y=q(Q)>=q(W);return!!(J||Y)}),andThisIsLT:(Q,W)=>f(()=>{let J=$(),Y=q(Q)<q(W);return!!(J&&Y)}),andThisIsLTE:(Q,W)=>f(()=>{let J=$(),Y=q(Q)<=q(W);return!!(J&&Y)}),andThisIsGT:(Q,W)=>f(()=>{let J=$(),Y=q(Q)>q(W);return!!(J&&Y)}),andThisIsGTE:(Q,W)=>f(()=>{let J=$(),Y=q(Q)>=q(W);return!!(J&&Y)})}},C=(X)=>{let $=typeof X==="function"?X:()=>q(X);return{...f(X),get result(){return U($)},add:(Z)=>C(()=>{return $()+q(Z)}),sub:(Z)=>C(()=>{return $()-q(Z)}),mul:(Z)=>C(()=>{return $()*q(Z)}),div:(Z)=>C(()=>{return $()/q(Z)}),mod:(Z)=>C(()=>{return $()%q(Z)}),pow:(Z)=>C(()=>{return $()**q(Z)}),isBetween:(Z,Q,W=!0,J=!0)=>f(()=>{let Y=$(),G=q(Z),B=q(Q),F=W?Y>=G:Y>G,R=J?Y<=B:Y<B;return F&&R}),isLT:(Z)=>f(()=>$()<q(Z)),isLTE:(Z)=>f(()=>$()<=q(Z)),isGT:(Z)=>f(()=>$()>q(Z)),isGTE:(Z)=>f(()=>$()>=q(Z))}},R0=(X)=>{let $=typeof X==="function"?X:()=>q(X);return{...f(X),lengthBetween:(Z,Q,W=!0,J=!0)=>f(()=>{let G=$().length,B=q(Z),F=q(Q),R=W?G>=B:G>B,j=J?G<=F:G<F;return R&&j}),lengthEquals:(Z)=>f(()=>{return $().length===q(Z)}),lengthNotEquals:(Z)=>f(()=>{return $().length!==q(Z)}),lengthLT:(Z)=>f(()=>{return $().length<q(Z)}),lengthLTE:(Z)=>f(()=>{return $().length<=q(Z)}),lengthGT:(Z)=>f(()=>{return $().length>q(Z)}),lengthGTE:(Z)=>f(()=>{return $().length>=q(Z)})}},k=(X)=>{let Z=(typeof X==="function"?X:()=>q(X))();return typeof Z==="number"?C(X):typeof Z==="string"||Array.isArray(Z)?R0(X):f(X)},zX=(...X)=>X.map(($)=>q($)),r=(X)=>{return{get string(){return U(()=>{let $=q(X);return $===void 0||$===null?void 0:$.toString()})},or:($)=>U(()=>q(X)||q($))}},F0=(X)=>{let Z=["at","copyWithin","fill","includes","indexOf","join","lastIndexOf","slice","with"].reduce((Q,W)=>{let J=(...Y)=>{return U(()=>{let G=zX(...Y);return q(X)[W](...G)})};return Q[W]=J,Q},{});return{...r(X),...Z,concat:(Q)=>U(()=>q(X).concat(q(Q))),every:(Q)=>U(()=>q(X).every(Q)),filter:(Q)=>U(()=>q(X).filter(Q)),find:(Q)=>U(()=>q(X).find(Q)),findIndex:(Q)=>U(()=>q(X).findIndex(Q)),findLast:(Q)=>U(()=>q(X).findLast(Q)),findLastIndex:(Q)=>U(()=>q(X).findLastIndex(Q)),get lastItem(){return U(()=>{return c(q(X)).pop()})},get length(){return U(()=>q(X).length)},map:(Q)=>U(()=>q(X).map(Q)),partition:(Q)=>{let W=U(()=>q(X).filter(Q)),J=U(()=>q(X).filter((Y,G,B)=>!Q(Y,G,B)));return[W,J]},reduce:(Q,W)=>U(()=>q(X).reduce(Q,W)),reduceRight:(Q,W)=>U(()=>q(X).reduceRight(Q,W)),get reversed(){return U(()=>q(X).toReversed())},some:(Q)=>U(()=>q(X).every(Q)),toSorted:(Q)=>U(()=>q(X).toSorted(Q)),toSpliced:(Q,W,...J)=>U(()=>q(X).toSpliced(q(Q),q(W),...J))}},P0=(X)=>{let Z=["toExponential","toFixed","toPrecision"].reduce((Q,W)=>{let J=(...Y)=>{return U(()=>{let G=zX(...Y);return q(X)[W](...G)})};return Q[W]=J,Q},{});return{...r(X),...Z,toConfined:(Q,W)=>U(()=>q(X)<q(Q)?q(Q):q(X)>q(W)?q(W):q(X)),toLocaleString:(Q,W)=>U(()=>q(X).toLocaleString(q(Q),W))}},K0=(X)=>{if(!$X(q(X)))throw new Error("Thee argument should be a plain object or a signal of plain object");return{...r(X),prop:($)=>U(()=>q(X)[$]),get props(){return Object.keys(q(X)).reduce((Z,Q)=>{let W=Q;return Z[W]=this.prop(W),Z},{})},get keys(){return U(()=>Object.keys(q(X)))}}},SX=(X)=>{let Z=["at","charAt","charCodeAt","codePointAt","concat","endsWith","includes","indexOf","lastIndexOf","padEnd","padStart","repeat","slice","startsWith","substring","trim","trimEnd","trimStart"].reduce((Q,W)=>{let J=(...Y)=>{return U(()=>{let G=zX(...Y);return q(X)[W](...G)})};return Q[W]=J,Q},{});return{...r(X),...Z,get length(){return U(()=>q(X).length)},get lowercase(){return U(()=>q(X).toLowerCase())},get Sentencecase(){return U(()=>{let Q=q(X);return Q.charAt(0).toUpperCase()+Q.slice(1).toLowerCase()})},get TitleCase(){return U(()=>q(X).toLowerCase().replace(/\b\w/g,(Q)=>Q.toUpperCase()))},get UPPERCASE(){return U(()=>q(X).toUpperCase())},localeCompare:(Q,W,J)=>U(()=>q(X).localeCompare(q(Q),q(W),J)),normalize:(Q)=>U(()=>q(X).normalize(q(Q))),replace:(Q,W)=>U(()=>q(X).replace(q(Q),q(W))),replaceAll:(Q,W)=>U(()=>q(X).replaceAll(q(Q),q(W))),search:(Q)=>U(()=>q(X).search(Q)),split:(Q,W)=>U(()=>{let J=Q instanceof RegExp?Q:q(Q);return q(X).split(J,q(W))}),toLocaleLowerCase:(Q)=>U(()=>q(X).toLocaleLowerCase(q(Q))),toLocaleUpperCase:(Q)=>U(()=>q(X).toLocaleUpperCase(q(Q)))}},j0=L("dksjfbksjnd"),Z5=SX(j0).split(""),w=(X)=>{return typeof q(X)==="number"?P0(X):typeof q(X)==="string"?SX(X):Array.isArray(q(X))?F0(X):$X(q(X))?K0(X):r(X)},_=(X,...$)=>U(()=>{return X.reduce((Z,Q,W)=>{let J,Y=$[W];if(typeof Y==="function")J=Y()??"";else if(YX(Y))J=Y.value??"";else J=Y??"";return`${Z}${Q}${J.toString()}`},"")}),VX=["onmount","onunmount"],IX=["onerror","onload","onresize","onblur","onchange","oncontextmenu","onfocus","oninput","oninvalid","onreset","onselect","onsubmit","onkeydown","onkeypress","onkeyup","onclick","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onscroll","onabort","oncanplay","oncanplaythrough","ondurationchange","onemptied","onended","onerror","onloadeddata","onloadedmetadata","onloadstart","onpause","onplay","onplaying","onprogress","onratechange","onseeked","onseeking","onstalled","onsuspend","ontimeupdate","onvolumechange","onwaiting"],D0=[...IX,...VX],f0=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","big","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","meta","meter","nav","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr"],o,yX=(X)=>{if(!o)o=document.createElement("textarea");return o.innerHTML=X,o.value},O0=(X)=>{try{return decodeURIComponent(X)}catch{return X}},A0=(X)=>{return X.replace(/\\u[\dA-Fa-f]{4}/g,($)=>String.fromCharCode(parseInt($.slice(2),16))).replace(/\\x[\dA-Fa-f]{2}/g,($)=>String.fromCharCode(parseInt($.slice(2),16)))},E0=()=>{let X=0;return{getNewId:()=>++X,resetIdCounter:()=>X=0}},gX=E0(),x={currentIs:(X)=>window._currentAppPhase===X,start:(X)=>{window._currentAppPhase=X,console.log(`Current phase is ${X}`)}},CX=(X,$,Z)=>{let Q=X;Q=yX(Q),Q=O0(Q),Q=A0(Q);let W=Q.trim().toLowerCase();for(let J of $)if(J.test(W))throw Z;return X},k0=(X)=>CX(X,[/^javascript\s*:/i,/^data\s*:/i,/^vbscript\s*:/i,/^file\s*:/i],'The href attribute value starting with one of "javascript:", "data:", "vbscript:" or "file:" is not allowed.'),M0=(X)=>CX(X,[/url\s*\(/i,/expression\s*\(/i,/javascript\s*:/i,/data\s*:/i,/vbscript\s*:/i,/file\s*:/i],'The style attribute value starting with one of "url(..", "expression(..", "javascript:", "data:", "vbscript:" or "file:" is not allowed.'),w0=(X,$)=>{let Z=$||"";if(X==="href"){if(typeof Z==="boolean")throw"The value of 'href' attribute should not be a boolean";return k0(Z)}if(X==="style"){if(typeof Z==="boolean")throw"The value of 'style' attribute should not be a boolean";return M0(Z)}return Z},a=(X)=>Array.isArray(X),t=(X)=>!isNaN(X?.elementId)&&X?.elementId>0,m=(X)=>X===void 0||typeof X==="string"||typeof X==="function"&&X.isElementGetter,qX=(X)=>y(X)&&m(X.value),T0=(X)=>m(X)||qX(X),bX=(X)=>{return y(X)&&(m(X.value)||a(X.value)&&X.value.every(($)=>m($)))},hX=(X)=>{return!y(X)&&(xX(X)||LX(X)||m(X)||a(X)&&X.every(($)=>T0($)))},GX=(X)=>{return bX(X)||hX(X)},jX=!1,N0={},v={},H0=globalThis.MutationObserver,x0=new H0((X)=>{X.forEach(($)=>{if($.type==="childList")$.addedNodes.forEach((Z)=>{if(t(Z)){let Q=Z,W=Q.elementId;if(v[W])delete v[W];else N0[W]=Q.tagName}}),$.removedNodes.forEach((Z)=>{if(t(Z)){let Q=Z,W=Q.elementId,J=Q.unmountListener;if(J)v[W]={element:Q,unmountListener:J}}})}),Object.entries(v).forEach(([$,Z])=>{let{element:Q,unmountListener:W}=Z;vX(Q,W)})}),vX=(X,$)=>{if(!t(X))return;let Z=X.children;for(let Q=0;Q<Z.length;Q++){let W=Z[Q];vX(W,W.unmountListener)}if($&&$(X),v[X.elementId])delete v[X.elementId]},L0=()=>{if(!jX&&!x.currentIs("build"))x0.observe(document.body,{childList:!0,subtree:!0}),jX=!0},cX=(X,$)=>D0.includes(X)&&$===void 0,mX=(X,$)=>IX.includes(X)&&typeof $==="function",pX=(X,$)=>VX.includes(X)&&typeof $==="function",S0=(X,$)=>cX(X,$)||mX(X,$)||pX(X,$),V0=(X,$)=>{Object.entries($).forEach(([Z,Q])=>{if(cX(Z,Q));else if(mX(Z,Q)){let W=Z.slice(2);X.addEventListener(W,(J)=>{if(W==="keypress")J.preventDefault();Q(J)})}else if(pX(Z,Q)){if(Z==="onmount"&&!x.currentIs("build")){let W=Q;setTimeout(()=>W(X),0)}if(Z==="onunmount")L0(),X.unmountListener=Q}else console.error(`Invalid event key: ${Z} for element with tagName: ${X.tagName}`)})},DX=(X,$,Z)=>{let Q=YX(Z)?Z.value:Z,W=w0($,Q);if(typeof W==="boolean")if(W)X.setAttribute($,"");else X.removeAttribute($);else if($==="value")X.value=W;else X.setAttribute($,W)},I0=(X,$)=>{let Z={};Object.entries($).forEach((Q)=>{let[W,J]=Q;if(y(J))Z[W]=J;DX(X,W,J)}),u(()=>{Object.entries(Z).forEach((Q)=>{let[W,J]=Q,Y=J.value;if(!x.currentIs("run"))return;DX(X,W,Y)})})},i=(X)=>{if(qX(X)){let $=X.value;return i($)}if(!X||typeof X==="string")return document.createTextNode(yX(X||""));if(m(X)){let $=X();if(!t($))throw new Error(`Invalid MHtml element getter child. Type: ${typeof X}`);return $}throw new Error(`Invalid child. Type of child: ${typeof X}`)},y0=(X,$)=>{if(!$)return;if(bX($))u(()=>{let Q=$.value,W=a(Q)?Q:[Q];W.forEach((Y,G)=>{let B=X.childNodes[G],F=i(Y);if(B&&F)X.replaceChild(F,B);else if(F)X.appendChild(F);else console.error(`No child found for node with tagName: ${X.tagName}`)});let J=W.length;while(J<X.childNodes.length){let Y=X.childNodes[J];if(Y)X.removeChild(Y)}});if(hX($)){let Z=xX($)?[$.value]:LX($)?$.value:a($)?$:[$],Q=[];if(Z.forEach((W,J)=>{if(qX(W))Q.push({index:J,childSignal:W});let Y=i(W),G=X.childNodes[J];if(G&&Y)X.replaceChild(Y,G);else if(!G&&Y)X.appendChild(Y);else console.error(`No child found for node with tagName: ${X.tagName}`)}),Q.length)Q.forEach(({index:W,childSignal:J})=>{u(()=>{if(!J.value)return;if(!x.currentIs("run"))return;let Y=i(J.value),G=X.childNodes[W];if(G&&Y)X.replaceChild(Y,G);else if(!G&&Y)X.appendChild(Y);else console.error(`No child found for node with tagName: ${X.tagName}`)})})}},g0=(X,$)=>{let Z=void 0,Q={},W={};return Object.entries(X).forEach(([J,Y])=>{if(J==="children")if(GX(Y))Z=Y;else if(Y===void 0)Z=Y;else throw new Error(`Invalid children prop for node with tagName: ${$}

 ${JSON.stringify(Y)}`);else if(S0(J,Y))Q[J]=Y;else W[J]=Y}),{children:Z,eventProps:Q,attributeProps:W}},C0=(X,$)=>{let Z=()=>{let Q=gX.getNewId(),W=x.currentIs("mount")?document.querySelector(`[data-elem-id="${Q}"]`):document.createElement(X);W.elementId=Q,W.unmountListener=void 0;let J=GX($)?{children:$}:$;if(!x.currentIs("run"))J["data-elem-id"]=W.elementId.toString();let Y=g0(J,W.tagName);if(V0(W,Y.eventProps),I0(W,Y.attributeProps),y0(W,Y.children),!x.currentIs("build"))W.removeAttribute("data-elem-id");return W};return Z.isElementGetter=!0,Z},fX=(X,$,Z)=>{let Q=L($),W=L(X),J=Z(U(()=>W.value),U(()=>Q.value)),Y,G,B=!1;if(J?.isElementGetter)Y=()=>{if(B&&G)return G;return G=J(),B=!0,G},Y.isElementGetter=!0;else if(!J||typeof J==="string")Y=J||"";else throw`One of the child, ${J} passed in ForElement is invalid.`;return{indexSignal:Q,itemSignal:W,mappedChild:Y}},OX=(X,$,Z)=>{if($!==void 0&&$>=0&&Z){let Q=$>X.length?X.length:$;X.splice(Q,0,Z)}return X},b0=({subject:X,itemKey:$,map:Z,n:Q,nthChild:W})=>{if(W&&Q===void 0||Q!==void 0&&Q>-1&&!W)throw new Error("Either both 'n' and 'nthChild' be passed or none of them.");let J=U(()=>{let D=q(X);return Array.isArray(D)?D:[]});if(!$)return U(()=>OX(J.value.map(Z),Q,W));let Y=W;if(W&&typeof W!=="string"){let D=W(),K=()=>D;K.isElementGetter=!0,Y=K}let G=J.value;if(G.length&&typeof G[0]!=="object")throw new Error("for mutable map, item in the list must be an object");let B=null,F=U((D)=>{return B=D||B,J.value}),R=U((D)=>{if(!D||!B)return F.value.map((T,M)=>fX(T,M,Z));return _0(B,F.value,$).map((E,T)=>{let M=(D||[])[E.oldIndex];if(console.assert(E.type==="add"&&E.oldIndex===-1&&!M||E.oldIndex>-1&&!!M,"In case of mutation type 'add' oldIndex should be '-1', or else oldIndex should always be a non-negative integer."),M){if(E.type==="shuffle")M.indexSignal.value=T;if(E.type==="update")M.indexSignal.value=T,M.itemSignal.value={...E.value};return M}return fX(E.value,T,Z)})});return U(()=>OX(R.value.map((D)=>D.mappedChild),Q,Y))},h0=({subject:X,isTruthy:$,isFalsy:Z})=>{let Q=z.Span({style:"display: none;"}),W=()=>(q(X)?$:Z)||Q;return y(X)?U(W):W()},v0=({subject:X,caseMatcher:$,defaultCase:Z,cases:Q})=>{let W=()=>{let J=q(X),Y=void 0;for(let[G,B]of Object.entries(Q))if($&&$(X,G)||J===G){Y=B;break}return Y||Z||z.Span({style:"display: none;"})};return y(X)?U(W):W()},c0=f0.reduce((X,$)=>{let Z=$.split("").map((W,J)=>!J?W.toUpperCase():W).join(""),Q=(W)=>C0($,W);return X[Z]=Q,X},{}),m0={For:b0,If:h0,Switch:v0},z={...c0,...m0},O=(X)=>($)=>{for(let Q of Object.keys($))if($[Q]===void 0)delete $[Q];let Z=Object.entries($).reduce((Q,W)=>{let[J,Y]=W,G=typeof Y==="string",B=Array.isArray(Y)&&Y.every((R)=>typeof R==="string"),F=y(Y)||typeof Y==="function"?Y:G||B?{type:"non-signal",get value(){return q(Y)}}:GX(Y)?Y:{type:"non-signal",get value(){return q(Y)}};return Q[J]=F,Q},{});return X(Z)},uX=["#e87b52","#F5E06F","#A3BA64","#7095C9","#A59EE3","#D89DBF"],p0=[1,1,1,1,1,1,1],u0=[{name:"Not Applicable",code:-1,isMaxLevel:!1},{name:"Paused",code:-2,isMaxLevel:!1},{name:"Stopped",code:-3,isMaxLevel:!1}],WX=["Not started","Completed"],r0=[70,60,45],AX={id:"analytics",lastInteraction:new Date().getTime()},e={id:"local-settings",habitsPage:{tabIndex:0,sortOptionIndex:0},editPage:{showHints:!0,showFullCustomisation:!1}},EX=[{icon:"calendar_month",decending:!0,label:"Date created (Newest first)"},{icon:"calendar_month",decending:!1,label:"Date created (Oldest first)"},{icon:"task_alt",decending:!0,label:"Completion (Highest first)"},{icon:"task_alt",decending:!1,label:"Completion (Lowest first)"}];var kX=86400000,d0=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s0=["January","February","March","April","May","June","July","August","September","October","November","December"],o0=(X,$)=>d0[X].substring(0,$),i0=(X,$)=>s0[X].substring(0,$),UX=(X)=>{return new Date(X.getFullYear(),X.getMonth(),X.getDate())},XX=(X)=>UX(X).getTime(),rX=(X,$)=>XX(X)===XX($),n0=(X,$)=>new Date(X.getFullYear(),X.getMonth(),X.getDate()+$),l0=(X)=>{let $=new Date;return Array(X).fill(0).map((Z,Q)=>new Date($.getFullYear(),$.getMonth()-Q,1)).reverse()},a0=(X,$)=>{let Z=XX(X),Q=XX($);if(Z===Q)return[UX(new Date(Z))];let W=Z<Q?Z:Q,Y=((Z<Q?Q:Z)-W)/kX;return Array(Y+1).fill(0).map((G,B)=>new Date(W+B*kX))},t0=(X)=>{if(X<1)throw"";let $=new Date,Z=$.getFullYear(),Q=$.getMonth(),W=new Date(Z,Q-(X-1),1),J=new Date(Z,Q+1,0);return{startDate:W,endDate:J}},e0={href:"/",HABITS:{href:"/habits/",NEW:{href:"/habits/new/"},HABIT:{href:"/habits/habit/",EDIT:{href:"/habits/habit/edit/"}}},SETTINGS:{href:"/settings/",PRIVACY_POLICY:{href:"/settings/privacy-policy/"}}},X1=(X)=>location.href=X,$1=()=>location.href=e0.HABITS.NEW.href,Q1=(X)=>{if(!x.currentIs("run"))return"";let $=window.location.search;return new URLSearchParams($).get(X)||""},Z1=1.6181,W1=()=>{let $=+Q1("id");if(isNaN($)||!$)return;try{return y1($)}catch(Z){return}},J1=(X)=>u0.find(($)=>$.code===X),dX=(X,$)=>{return X<0?J1(-1):{isMaxLevel:X===$.length-1,name:$[X],code:X}},Y1=(X)=>({level:dX(-1,[]),date:X}),z1=(X,$,Z)=>({level:dX(X,$),date:Z}),q1=(X,$)=>X.find((Z)=>rX(Z.date,$)),BX=(X)=>{let $=UX(new Date(X.id));return{...X,startDate:$,levels:X.levels.map((Z,Q)=>({isMaxLevel:Q===X.levels.length-1,name:Z,code:Q})),tracker:X.tracker.map((Z,Q)=>z1(Z,X.levels,n0($,Q))),milestones:B1(X.milestones)}},G1=(X)=>{return{...X,levels:X.levels.map(($)=>$.name),tracker:X.tracker.map(($,Z)=>$.level.code),milestones:_1(X.milestones)}},U1=()=>{let $={id:new Date().getTime(),title:"",frequency:p0,colorIndex:0,levels:WX,tracker:[],milestones:r0,pauses:[],isStopped:!1};return BX($)},B1=(X)=>[{label:"Successful",upperLimit:100,percent:X[0],icon:"verified_user",color:"green"},{label:"Little more to go",upperLimit:X[0],percent:X[1],icon:"done_all",color:"light-blue"},{label:"Going good",upperLimit:X[1],percent:X[2],icon:"check",color:"blue"},{label:"Unacceptable",upperLimit:X[2],percent:0,icon:"close",color:"red"}],_1=(X)=>X.filter(($)=>!!$.percent).map(($)=>$.percent),sX=(X,$)=>{let Z=X[0];for(let Q=0;Q<X.length;Q++)if(Z=X[Q],Z.percent<=$)break;return{label:Z.label,icon:Z.icon,color:Z.color}},R1=(X,$)=>{if(!X.title)return"Title should not be empty";if($&&g1(X.title))return"A habit with same name already exists";if(X.frequency.every((Q)=>!Q))return"Select at least one day in a week";if(!X.levels.every((Q)=>!!Q.name))return"One of the levels is empty";if(X.levels.some((Q,W)=>{for(let J=W+1;J<X.levels.length;J++)if(X.levels[J].name===Q.name)return!0;return!1}))return"Multiple levels have same name";if(!X.milestones.every((Q)=>Q.percent<=100&&Q.percent>=0))return"The milestones should be between 0 and 100 percents";if(!X.milestones.every((Q,W,J)=>W===0?!0:J[W-1].percent>Q.percent))return"Milestones should be in order (from high to low)";return""},F1=(X,$,Z)=>{let Q=oX(X.tracker,$,Z),W=X.levels.length-1,J=0,Y=0,G=0,B=0,F=0,R=0;return Q.forEach((j,D)=>{if(J+=j.level.code>-1?1:0,Y+=j.level.code>0?1:0,G+=j.level.code>0?j.level.code:0,D===Q.length-1)return;let E=j.level.code<1;R=E?R+1:0;let M=100*((j.level.code>0?j.level.code:0)/(X.levels.length-1));B=Math.round(M)>50?B+1:0,F=E?0:F+1}),{title:X.title,aceStreak:B,followStreak:F,missed:R,percent:Math.round(100*(G/(J*W))),totalDays:J,workingDays:Y}},P1=(X,$,Z)=>{let Q=!!X.length;if(!Q)return{hideAddButton:!1,hideRemoveButton:$.length<3};let W=$[Z],J=!!(Q&&X.find((D)=>D.name===W.name)),Y=X.length!==$.length,G=$.length<X.length,B=$.length>X.length,F=!Y&&X.length&&X.some((D,K)=>D.name!==$[K].name);return{hideAddButton:G||F||J&&G,hideRemoveButton:G||F||J&&B}},K1=(X,$,Z)=>{let Q=!!X.length,W=$[Z],J=!!(Q&&X.find((G)=>G.name===W.name)),Y=X.length!==$.length;return J&&Y},j1=(X,$,Z,Q=!1)=>{let W=uX[Z],J=X/($-1),G=Math.trunc(Math.pow(J,Z1)*255).toString(16),B=G.length===1?`0${G}`:G,F=X<0||B==="0"?"transparent":`${W}${B}`,R=Q?X/($-1)>0.5?"white":"black":X<0?"lightgray":"transparent";return{backgroundColor:F,fontColor:R,peakBackgroundColor:W,levelPercent:Math.round(J*100)}},D1=(X,$)=>{let Z=[];for(let Q of $)if(!X.some((J)=>{if(rX(J.date,Q))return Z.push(J),!0;return!1}))Z.push(Y1(Q));return Z},oX=(X,$,Z)=>{let Q=a0($,Z);return D1(X,Q)},f1=(X,$,Z)=>{if(!X.length||X.length===$.length)return Z;let Q=[...Z],W=[];return X.forEach((J,Y)=>{let G=$.find((j)=>j.name===J.name),B=!G,F=(j)=>{let D=[];Z.forEach((K,E)=>{if(K.level.code===J.code)D.push(E)}),W.push({indices:D,newLevel:j})};if(B){if(Y===X.length-1)F($[$.length-1]);return}if(G.code===J.code)return;F(G)}),W.forEach((J)=>{J.indices.forEach((Y)=>{Q[Y]={...Q[Y],level:J.newLevel}})}),Q},MX=(X)=>{let $=X.length-1;for(let Z=0;Z<X.length;Z++)X[Z]={...X[Z],code:Z,isMaxLevel:Z===$};return X},O1=(X)=>[{label:"Today",icon:"calendar_month",isSelected:X==="/",href:"/"},{label:"Habits",icon:"checklist",isSelected:X==="/habits/",href:"/habits/"},{label:"Settings",icon:"settings",isSelected:X==="/settings/",href:"/settings/"}],iX="analytics",A1="id",E1="analytics",nX=(X)=>{localStorage.setItem(iX,JSON.stringify(X))},k1=()=>{if(!x.currentIs("run"))return AX;let X=()=>{let Q=localStorage.getItem(iX);return RX(Q,A1,E1)};if(!X())nX(AX);let Z=X();if(!Z)throw"Error fetching analytics";return Z},M1=()=>{let X=[];for(let $ in localStorage){if(!localStorage.hasOwnProperty($))continue;X.push($)}return X},w1=(X)=>X.startsWith("h."),_X=(X)=>`h.${X}`,lX=(X)=>{if(!w1(X))return;let $=localStorage.getItem(X),Z=RX($,"title");if(!Z)return;return Z},T1=()=>{if(!x.currentIs("run"))return[];let X=[];for(let $ of M1()){let Z=lX($);if(!Z)continue;X.push(Z)}return X},N1=(X)=>{let $=_X(X.id);localStorage.setItem($,JSON.stringify(X))},H1=(X)=>{let $=_X(X);localStorage.removeItem($)},aX="settings",x1="id",L1="local-settings",tX=(X)=>{localStorage.setItem(aX,JSON.stringify(X))},S1=()=>{if(!x.currentIs("run"))return e;let X=()=>{let Q=localStorage.getItem(aX);return RX(Q,x1,L1)};if(!X())tX(e);let Z=X();if(!Z)throw"Error fetching settings";return V1(Z),X()},V1=(X)=>{if(!X.editPage)tX({...X,editPage:e.editPage})},I1=(X)=>{let $=k1();nX({...$,lastInteraction:X.getTime()})},y1=(X)=>{let $=_X(X),Z=lX($);if(!Z)throw`Error fetching habit with id '${X}' from storage`;return BX(Z)},g1=(X)=>{let Z=T1().find((Q)=>Q.title.trim()===X.trim());return Z?BX(Z):void 0},eX=(X)=>{let $=G1(X);N1($)},C1=(X)=>{let $={...X,isStopped:!0};eX($)},b1=(X)=>H1(X),h1=()=>{return S1().editPage},v1=()=>{if(window.navigator?.vibrate)window.navigator.vibrate(3)},RX=(X,$,Z)=>{let Q=JSON.parse(X||"{}"),W=Q&&typeof Q==="object",J=Q[$];if(!W||!(Z?J===Z:!!J))return;return Q},H=(X)=>{return(...$)=>{return v1(),I1(new Date),X&&X(...$)}},c1=O(({cssClasses:X,hideRemove:$,hideAdd:Z,onRemove:Q,onAdd:W})=>{let J=k($).and(Z).ternary("bn","ba"),Y=k(Z).ternary("","br");return z.Span({class:_`br3 pb1 f4 bw1 b--light-silver dark-gray ${J} ${X}`,children:[z.If({subject:$,isFalsy:z.Span({class:_`pointer ph2 pb1 bw1 b--light-silver ${Y}`,onclick:H(Q),children:"-"})}),z.If({subject:Z,isFalsy:z.Span({class:"pointer ph2 pb1",onclick:H(W),children:"+"})})]})}),I=O(({cssClasses:X,onTap:$,children:Z})=>z.Button({class:_`pointer noselect br-pill ba bw1 b--light-silver b--hover-black bg-white black ${X}`,onclick:H(()=>$()),children:Z})),W5=O(({cssClasses:X})=>{return z.Div({class:_`bb b--light-gray ${X}`})}),V=O(({cssClasses:X,size:$,onClick:Z,iconName:Q,title:W})=>{let J=Z?"pointer":"",Y=w($).or(16);return z.Span({class:_`material-symbols-outlined ${J} ${X}`,style:_`font-size: ${Y}px`,onclick:H(Z),children:Q,title:W})}),wX=O(({cssClasses:X,href:$,target:Z,onClick:Q,children:W})=>{let J=k($).or(Q).ternary("pointer underline","");return z.A({...$?{href:$}:{},class:_`noselect ${J} ${X}`,target:Z,onclick:H(Q),children:W})}),QX=O(({cssClasses:X,isOpen:$,content:Z,onTapOutside:Q})=>{let W=(J)=>{setTimeout(()=>u(()=>{if($.value)J.showModal();else J.close()}))};return z.Dialog({onmount:W,onclick:H(Q),class:_`pa0 br3 ${X}`,children:[z.Div({onclick:(J)=>J.stopPropagation(),children:Z})]})}),m1=O(({cssClasses:X,placeholder:$,num:Z,onchange:Q})=>{let W=(J)=>{let Y=J.target.value,G=Number.parseFloat(Number.parseFloat(Y||"0").toFixed(2));Q(G)};return z.Input({class:X,type:"number",placeholder:$,value:w(Z).string,onchange:W})}),p1=O(({progress:X,cssClasses:$})=>{return z.Div({class:_`br-pill bg-moon-gray ${$}`,children:z.Div({class:"br-pill bg-app-theme-color pa1",style:_`width: ${w(X).toConfined(0,100)}%;`})})}),X0=O(({cssClasses:X,header:$,content:Z,bottombar:Q})=>{return z.Div({class:"flex-ns justify-center-ns",children:z.Div({class:_`w6-ns ${X}`,children:[z.If({subject:$,isTruthy:z.Div({class:"overflow-break-word sticky top-0 left-0 right-0 bg-inherit z-999 f2dot33 b pv3 mt2",children:$})}),Z,z.Div({class:"pv6 mt5"}),z.If({subject:Q,isTruthy:z.Div({class:"sticky bottom-0 left-0 right-0 z-9999",children:Q})})]})})}),J5=O(({cssClasses:X,tabItemCssClasses:$,selectedTabCssClasses:Z,tabs:Q,selectedTabIndex:W,onTabChange:J})=>{let Y=(G)=>G===W.value?`b--light-silver b black ${Z?.value}`:"pointer b--transparent b--hover-black silver pointer";return z.Div({class:_`bg-white br3 ${X}`,children:z.Div({class:"flex items-center justify-between pa1",children:z.For({subject:Q,map:(G,B)=>z.Span({class:_`
                w-100 br3 pv3 ph2 flex justify-center noselect br-pill ba bw1 bg-inherit
                ${Y(B)} ${$}`,onclick:H(()=>J(B)),children:G})})})})}),TX=O(({cssClasses:X,placeholder:$,disabled:Z,text:Q,onmount:W,onchange:J,onkeydown:Y,onfocus:G,onblur:B})=>{let F,R=(K)=>{if(F=K,W)W(K)},j=(K)=>{let E=K.target.value;if(J)J(E)},D=(K)=>{let E=K.key.length===1?F.value+K.key:K.key==="Backspace"?F.value.slice(0,-1):F.value,T={key:K.key,text:E};if(Y)Y(T)};return z.Input({onmount:R,class:_`${X}`,type:"text",placeholder:$,disabled:k(Z).truthy,value:Q,onchange:j,onkeydown:D,onfocus:G,onblur:B})}),Y5=O(({cssClasses:X,isOn:$,onToggle:Z})=>{let Q=k($).ternary("b--transparent","b--moon-gray bg-moon-gray"),W=k($).ternary("b--mid-gray bg-mid-gray","b--transparent");return z.Div({class:_`flex items-center pointer noselect br-pill ba bw1dot5 b--mid-gray b--hover-black bg-white pa05 black ${X}`,onclick:H(Z),children:[z.Div({class:_`br-100 ba bw1 b--hover-black pa1 ${Q}`}),z.Div({class:"pa05"}),z.Div({class:_`br-100 ba bw1 b--hover-black pa1 ${W}`})]})}),u1=O(({cssClasses:X,justifyCssClasses:$,label:Z})=>{let Q=w($).or("justify-end"),W=w(Z).or("Add habit");return z.Div({class:_`w-100 flex ${Q} ${X}`,children:I({cssClasses:"pa3 mb3 shadow-4 b flex items-center",children:[V({cssClasses:"nl1 mr1",size:22,iconName:"add"}),W],onTap:$1})})}),FX=O(({cssClasses:X,dotCssClasses:$,colorIndex:Z,level:Q,totalLevels:W,showText:J,textContent:Y,icon:G,iconSize:B,isRectangular:F,showHeight:R,onClick:j})=>{let D=k(F).ternary("br0","br-100"),K=k(Q).isLT(0).ternary("bg-transparent","bg-light-gray"),{peakBackgroundColor:E,backgroundColor:T,fontColor:M,levelPercent:g}=w(b(j1,Q,W,Z,J)).props,d=w(Y).or("Î‡"),S=k(R).and(G).andThisIsGT(g,99).truthy,p=()=>{if(j&&Q.value>=0)j()};return z.Span({class:_`pointer relative overflow-hidden ${D} ${K} ${X}`,onclick:H(p),children:z.If({subject:R,isTruthy:z.Span({class:_`flex items-center justify-around absolute left-0 right-0 bottom-0 br0 ${$}`,style:_`
            background-color: ${E};
            color: white;
            height: ${g}%;`,children:z.If({subject:S,isTruthy:V({iconName:G,size:B})})}),isFalsy:z.Span({class:_`flex items-center justify-around absolute absolute--fill ${$}`,style:_`
            background-color: ${T};
            color: ${M};`,children:z.If({subject:G,isTruthy:V({iconName:G,size:B}),isFalsy:z.Span(d)})})})})}),r1=O(({cssClasses:X})=>{return I({cssClasses:_`pa3 flex items-center ${X}`,children:[V({iconName:"arrow_back"}),z.Span({class:"ml1",children:"Go Back"})],onTap:()=>history.back()})}),z5=O(({cssClasses:X,milestones:$,achievedMilestone:Z,completionPercent:Q})=>{let W=w(Z).prop("color"),J=b((Y)=>Y>53?"Average completion":Y>43?"Avg completion":Y>35?"Completion":"",Q);return z.Div({class:_`center ${X}`,children:[z.Div({class:"pb2 w-100 relative",children:z.For({subject:$,map:(Y,G)=>{return d1({colorCss:`bg-${Y.color}`,percent:Y.upperLimit,hideUpperLimit:G===0})}})}),z.Div({class:_`nt3dot6 h1dot2 bw1 relative br b--${W}`,style:_`width: ${Q}%;`,children:z.Div({class:_`relative flex items-start nt1 justify-between f7 mid-gray`,children:[z.Div(J),z.Div({class:_`absolute right-0 pr1 b f6 ${W}`,children:_`${Q}%`})]})})]})}),d1=O(({colorCss:X,hideUpperLimit:$,percent:Z})=>{let Q=k($).ternary("",_`${Z}%`),W=_`width: ${Z}%;`;return z.Div({class:"absolute flex items-start h0dot5 bl br b--light-silver bw1",style:W,children:[z.Div({class:_`absolute absolute-fill h0dot15 w-100 ${X}`}),z.Div({class:"flex justify-end w-100 pt2 f7",children:z.Div({class:"nr3 pb2 light-silver b",children:Q})})]})}),s1=O(({cssClasses:X,habit:$,date:Z,colorIndex:Q,totalLevels:W})=>{let J=U(()=>{let Y=Z.value.getFullYear(),G=Z.value.getMonth(),B=new Date(Y,G,1),F=new Date(Y,G+1,0);return oX($.value.tracker,B,F)});return z.Div({class:_`flex items-center ${X}`,children:[z.Div({class:"f8 b w2 light-silver",children:U(()=>i0(Z.value.getMonth(),3))}),z.Div({class:"w-100 flex items-center justify-between",children:z.For({subject:J,map:(Y)=>FX({cssClasses:"pa1",colorIndex:Q,level:Y.level.code,totalLevels:W})})})]})}),q5=O(({cssClasses:X,habit:$,months:Z,onClick:Q})=>{let{milestones:W,title:J,colorIndex:Y,levels:G}=w($).props,B=b((K,E)=>{let{startDate:T,endDate:M}=t0(K);return F1(E,T,M).percent},Z,$),F=b(sX,W,B),{icon:R,color:j}=w(F).props,D=b(l0,Z);return z.Div({class:_`pointer bg-white ${X}`,onclick:H(Q),children:[z.Div({class:"flex items-center justify-between nt1 mb2",children:[z.Div({class:"f5 dark-gray b",children:J}),z.Div({class:"f6 silver b flex items-center",children:[V({cssClasses:_`mr1 ${j}`,iconName:R}),_`${B}%`]})]}),z.Div({class:"mt2 mb1",children:z.For({subject:D,map:(K)=>s1({cssClasses:"mb1",habit:$,date:K,colorIndex:Y,totalLevels:G.value.length})})})]})}),o1=O(({cssClasses:X,editableHabit:$,editedHabit:Z,hideDescriptions:Q,showFullCustomisations:W,onChange:J})=>{let Y=L(!1),G=w(W).or(Y),{title:B,frequency:F,levels:R,milestones:j,colorIndex:D}=w(Z).props,K=w(F).every((A)=>!!A),E="bg-mid-gray white",T="bg-near-white light-silver",M=k(K).ternary("bg-mid-gray white","bg-near-white light-silver"),g=k(Y).ternary("remove","add"),d=_`Show ${k(Y).ternary("Less","More")} Customisations`,S=(A)=>{J({...Z.value,title:A})},p=(A)=>{J({...Z.value,colorIndex:A})},s=(A)=>{if(A<-1||A>6)throw"Invalid day index";if(A===-1){J({...Z.value,frequency:[1,1,1,1,1,1,1]});return}let P=K.value?F.value.map((N)=>0):F.value;P[A]=K.value?1:P[A]?0:1,J({...Z.value,frequency:P})},Q0=(A,P)=>{let N=R.value;N[P]={...N[P],name:A},J({...Z.value,levels:N})},Z0=(A)=>{let P=R.value;P.splice(A,0,{isMaxLevel:!1,name:"",code:A}),J({...Z.value,levels:MX(P)})},W0=(A)=>{let P=R.value;if(P.length<3)return;P.splice(A,1),J({...Z.value,levels:MX(P)})},J0=(A,P)=>{if(P<0||P>2)throw"Incorrect index of milestone passed. Milestone values should not be more than 3.";let N=[...Z.value.milestones];N[P]={...N[P],percent:A},J({...Z.value,milestones:N})};return z.Div({class:X,children:[h({cssClasses:"pb1",title:"Weekdays",children:z.Div({class:"mb3 f6 flex items-center justify-between justify-start-ns",children:z.For({subject:Array(7).fill(0),n:0,nthChild:z.Span({class:_`pointer flex items-center justify-center br-pill h2 ph2 mr3-ns ${M}`,children:"Daily",onclick:H(()=>s(-1))}),map:(A,P)=>{let N=U(()=>F.value[P]&&!K.value?"bg-mid-gray white":"bg-near-white light-silver");return z.Span({class:_`pointer flex items-center justify-center br-100 h2 w2 mr3-ns ${N}`,children:o0(P,1),onclick:H(()=>s(P))})}})})}),h({cssClasses:"pb2",title:"Title of the habit",children:TX({cssClasses:"ba bw1 b--light-silver br3 pa2 w-100",placeholder:'for example, "wake up at 5am"',text:B,onchange:S})}),z.If({subject:G,isTruthy:z.Div([h({cssClasses:"pb1",title:"Select a color tag",children:z.Div({class:"mb1 flex items-center",children:z.For({subject:uX,map:(A,P)=>{let N=k(D).equals(P).ternary("#999","#f4f4f4");return z.Span({class:"pointer mb2 mr3 pa1 br-100 bw2 ba flex",style:_`border-color: ${N}`,onclick:H(()=>p(P)),children:z.Span({class:_`pa2 br-100`,style:`background-color: ${A}`})})}})})}),h({cssClasses:"pb3",title:"Status update levels",hideDescription:Q,description:`
                  When updating a habit status in a day, we generally have only two levels - "${WX[0]}"
                  or "${WX[1]}". But a habit can have more than 2 levels as well.
                  Like for example, the habit of 'Drink 2 litres water daily'
                  should ideally have three levels - '0 litre', '1 litre' and '2 litres', from low to high.
                  You can add or remove levels by clicking on + or - buttons. Click on textbox
                  for editing the status level name. The levels from top to bottom should go from lowest
                  to the highest.`,children:z.For({subject:R,map:(A,P)=>{let N=$?.value?.levels||[],PX=R.value,{hideAddButton:Y0,hideRemoveButton:z0}=P1(N,PX,P),q0=K1(N,PX,P);return z.Div({children:[z.Div({class:"flex items-center justify-between",children:[z.Div({class:"flex items-center ba bw1 b--light-silver br3 w-70 w-80-ns",children:[FX({cssClasses:"w1 h2 br3 br--left ml1px",dotCssClasses:"br3 br--left",colorIndex:D,level:P,isRectangular:!0,totalLevels:R.value.length}),TX({cssClasses:"bn pa2 br3 w-100 outline-0",placeholder:`Level ${P}`,disabled:q0,text:A.name,onchange:(G0)=>Q0(G0,P)})]}),c1({hideAdd:Y0,hideRemove:z0,onAdd:()=>Z0(P+1),onRemove:()=>W0(P)})]}),z.If({subject:k(R).lengthGT(P+1).truthy,isTruthy:z.Div({class:"pa2 ml2 pl1 bl bw1 b--silver"})})]})}})}),h({title:"Habit completion goal",hideDescription:Q,description:_`
                  Goals are something for long-term. Let's say based on below table, after
                  a month or two, you followed your habit for 67% of the times, then you
                  just crossed the milestone - '${()=>sX(Z.value.milestones,67).label}'. For achieving your goal (in %), you can set your
                  own custom milestones depending on the difficulty of the habit.`,children:z.For({subject:j,n:0,nthChild:z.Div({class:"mb1 ph2 pv0 bn bw1 relative ts-white-1",children:[z.Span({class:"lh-copy",children:""}),z.Span({class:"w-30 absolute mt3 right-2 bottom--1dot5 flex items-center z-1",children:[z.Span({class:"w-100 bg-white bn bw1 ph2dot5 di f4 b light-silver pb3 nl1",children:"100"}),z.Span({class:"ph2 bg-white light-silver b pb3 mr1",children:"%"})]})]}),map:(A,P)=>z.Div({class:"mb1 ph4 pv4 ba br3 bw1 b--light-gray relative",children:[z.Span({class:"lh-copy flex items-center",children:[V({cssClasses:`mr2 ${A.color}`,size:20,iconName:A.icon}),A.label]}),z.Span({class:"w-30 absolute mt3 right-2 bottom--1dot5 flex items-center z-1",children:[z.If({subject:P===3,isTruthy:z.Span({class:"w-100 bg-white bn bw1 br3 pa2dot5 di f4 b light-silver mb1",children:"00"}),isFalsy:m1({cssClasses:"w-100 ba bw1 b--light-silver br3 pa2dot5 di f5 b dark-gray",num:A.percent,onchange:(N)=>J0(N,P)})}),z.Span({class:"ph2 bg-white light-silver b",children:"%"})]})]})})})])}),z.If({subject:W,isFalsy:I({cssClasses:"pv2 ph3 flex items-center",onTap:()=>Y.value=!Y.value,children:[V({cssClasses:"mr1",iconName:g}),d]})})]})}),i1=O(({editableHabit:X,onMount:$})=>{let Z=L(e.editPage),Q=L(!1),W=L(!1),J=L(""),Y=L(U1()),G=b((S)=>S?`Edit '${S.title}'`:"Add new habit",X),B=k(G).lengthGT(22).ternary("f2dot66",""),F=k(X).ternary("Update","Add"),R=()=>Q.value=!0,j=()=>Q.value=!1,D=()=>{j(),history.go(-2)},K=()=>W.value=!0,E=()=>W.value=!1,T=()=>{C1(Y.value),E(),history.back()},M=(S)=>Y.value=S,g=()=>{if(J.value=R1(Y.value,!X?.value),J.value)return;let S=Y.value,p=[...X?.value?.levels||[]],s=f1(p,S.levels,S.tracker);eX({...Y.value,tracker:s}),history.back()};return e1({onMount:()=>{if($)$(),Y.value=X?.value;Z.value=h1()},body:X0({cssClasses:"bg-white ph3",header:z.Div({class:B,children:G}),content:z.Div([z.If({subject:X,isTruthy:z.Div([h({cssClasses:"pb2",title:"Actions",children:[n1({isOpen:Q,habit:Y,onClose:j,onDone:D}),wX({cssClasses:"db mb3 f6 red",children:"Delete this habit permanently along with its data",onClick:R}),l1({isOpen:W,habit:Y,onClose:E,onDone:T}),wX({cssClasses:"db mb3 f6 gray",children:"Stop this habit permanently and keep it for future",onClick:K})]})])}),o1({editableHabit:X,editedHabit:Y,hideDescriptions:U(()=>!Z.value.showHints),showFullCustomisations:w(Z).prop("showFullCustomisation"),onChange:M})]),bottombar:z.Div({class:"bg-white w-100 pv3",children:[z.If({subject:J,isTruthy:z.Div({class:"red mb3",children:J})}),z.Div({class:"flex items-center justify-stretch",children:[r1({cssClasses:"w4dot50 w4dot25-ns"}),I({cssClasses:"w-100 pa3 ml3 b",children:F,onTap:g})]})]})})})}),G5=O(({cssClasses:X})=>{return z.Div({class:_`flex flex-column items-center justify-around ${X}`,children:[z.Img({class:"mt3 pt4",src:"/assets/images/just_landed.png",height:"200"}),z.Div("Looks like, you just landed here!"),u1({cssClasses:"pt5",justifyCssClasses:"justify-around",label:"Add your first habit"})]})}),n1=O(({isOpen:X,habit:$,onClose:Z,onDone:Q})=>{let W=()=>{b1($.value.id),Q()};return QX({cssClasses:"bn w-30-ns",isOpen:X,onTapOutside:Z,content:z.Div({class:"pa3 f5",children:[z.Div({class:"mb3 b f4",children:_`Delete '${()=>$.value.title}'?`}),z.Div({class:"mb4",children:[`
              All the data and the achievements associated with this habit will be lost forever
              with this action, and cannot be reversed.
              `,z.Br({}),z.Br({}),`
              Are you sure, you want to DELETE this habit permanently?
              `]}),z.Div({class:"flex items-center justify-between f6",children:[I({cssClasses:"w-25 pv2 ph3 mr1 b",children:"No",onTap:Z}),I({cssClasses:"pv2 ph3 ml2 b red",children:"Yes, delete permanently",onTap:W})]})]})})}),U5=O(({isOpen:X,habit:$,date:Z,showTitleInHeader:Q,onClose:W,onChange:J})=>{let{title:Y,levels:G,tracker:B,colorIndex:F}=w($).props,R=U(()=>Q?.value?`Change status of  '${Y.value}'`:`Change status for ${Z.value.toDateString()}`);return QX({cssClasses:"f5 normal ba bw0 outline-0",isOpen:X,onTapOutside:W,content:z.Div({class:"mnw5",children:[z.Div({class:"f5 b tc pa3",children:R}),z.Div({class:"f5 mb1",children:z.For({subject:w(G).reversed,map:(j,D)=>{let K=G.value.length-1-D,E=_`pointer flex items-center pv3 pa3 bt b--moon-gray ${()=>q1(B.value,Z.value)?.level.code===K?"bg-near-white black fw6":"gray fw5"}`,T=K<1?"b--light-silver":"b--transparent";return z.Div({class:E,onclick:H(()=>J(K)),children:[FX({cssClasses:`pa1 mr3 ba b ${T}`,colorIndex:F,level:K,totalLevels:G.value.length,isRectangular:!0}),z.Span(j.name)]})}})})]})})}),l1=O(({isOpen:X,habit:$,onClose:Z,onDone:Q})=>{return QX({cssClasses:"bn",isOpen:X,onTapOutside:Z,content:z.Div({class:"pa3 f5",children:[z.Div({class:"mb3 b f4",children:_`Stop '${()=>$.value.title}'?`}),z.Div({class:"mb4",children:["This action is not reversible. You will not be able to resume it again.",z.Br({}),z.Br({}),"Are you sure, you want to STOP this habit permanently?"]}),z.Div({class:"flex items-center justify-between f6",children:[I({cssClasses:"w-100 pv2 ph3 mr2",children:"No, go back",onTap:Z}),I({cssClasses:"w-100 pv2 ph3 ml2 b",children:"Yes, stop this",onTap:Q})]})]})})}),a1=O(({cssClasses:X,links:$})=>{return z.Div({class:_`flex items-center justify-between pv3 bg-near-white ${X}`,children:z.For({subject:$,map:(Z)=>t1({label:Z.label,icon:Z.icon,isSelected:Z.isSelected,href:Z.href})})})}),t1=O(({cssClasses:X,label:$,icon:Z,isSelected:Q,href:W})=>{let J=k(Q).ternary("app-theme-color b","black");return z.Div({class:_`pointer noselect flex flex-column items-center justify-center pb2 ${J} ${X}`,onclick:H(()=>X1(W.value)),children:[V({size:22,iconName:Z}),z.Div({class:"f7",children:$})]})}),B5=O(({cssClasses:X,header:$,content:Z,navbarTop:Q,route:W})=>{return X0({cssClasses:X,header:$,content:Z,bottombar:z.Div({children:[z.If({subject:Q,isTruthy:Q}),a1({cssClasses:"nl3 nr3 ph4",links:b(O1,W)})]})})}),e1=O(({cssClasses:X,body:$,onMount:Z})=>{return z.Html({lang:"en",children:[z.Head({children:[z.Title("Habits (by Cyfer)"),z.Link({rel:"icon",type:"image/x-icon",href:"/assets/images/favicon.ico"}),z.Meta({"http-equiv":"Content-Security-Policy",content:`
                default-src 'self';
                script-src 'self';
                style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://unpkg.com;
                font-src https://fonts.gstatic.com;
                object-src 'none';
                base-uri 'none';
              `}),z.Meta({charset:"UTF-8"}),z.Meta({"http-equiv":"X-UA-Compatible",content:"IE=edge"}),z.Meta({name:"viewport",content:"width=device-width, initial-scale=1.0"}),z.Link({rel:"stylesheet",href:"/assets/styles.css"}),z.Link({rel:"manifest",href:"/manifest.json"})]}),z.Body({tabindex:"-1",class:X,onmount:Z,children:[z.Script({src:"main.js",defer:"true"}),$]})]})}),h=O(({cssClasses:X,contentCssClasses:$,title:Z,description:Q,hideDescription:W,children:J})=>{let Y=k(Q).andNot(W).truthy;return z.Div({class:_`mt3 mb4 ${X}`,children:[z.Div({class:"mb2 dark-gray f4 b",children:Z}),z.If({subject:Y,isTruthy:z.Div({class:"mb3 f6 silver fw5",children:Q})}),z.Div({class:$,children:J})]})}),_5=O(({cssClasses:X,iconSize:$,selectedOptionIndex:Z,onChange:Q})=>{let W=L(!1),J=U(()=>EX[Z.value]),Y=()=>W.value=!0,G=()=>W.value=!1,B=(R)=>R===J.value.label?"bg-near-white black fw6":"gray fw5",F=(R)=>{Q(R),G()};return z.Div({class:X,children:[NX({cssClasses:"pointer",descending:w(J).prop("decending"),iconName:w(J).prop("icon"),size:w($).or(20),onClick:Y}),QX({cssClasses:"f5 normal ba bw0 outline-0",isOpen:W,onTapOutside:G,content:z.Div({children:[z.Div({class:"f5 b tc pv3",children:"Sort habit cards by"}),z.Div({class:"f5 mb1",children:z.For({subject:EX,map:(R,j)=>z.Div({class:_`pointer flex items-center pv3 pl2 pr3 bt b--moon-gray ${()=>B(R.label)}`,onclick:H(()=>F(j)),children:[NX({cssClasses:"ml1 mr2",descending:R.decending,iconName:R.icon,size:20}),z.Span(R.label)]})})})]})})]})}),NX=O(({cssClasses:X,descending:$,iconName:Z,size:Q,onClick:W})=>{let J=W?"pointer":"",Y=k($).ternary("arrow_upward","arrow_downward"),G=k(Q).mul(4).div(5).result;return z.Span({class:_`flex items-center ${J} ${X}`,onclick:H(W),children:[V({cssClasses:"silver",iconName:Y,size:G}),V({size:Q,iconName:Z})]})}),R5=O(({cssClasses:X,progress:$})=>{return z.Div({class:_`flex flex-column justify-center items-center vh-100 ${X}`,children:[z.Img({class:"mt6 br4",src:"/assets/images/habits-logo.png",height:"100",width:"100"}),z.Div({class:"f3 b mv3",children:"Habits"}),p1({cssClasses:"w-40",progress:$}),z.Div({class:"mt7 pv4",children:"A Cyfer Product"})]})}),$0=L(void 0),X5=()=>{let X=W1();if(!X)throw"Invalid habit ID in query params. No habit fetched.";$0.value=X},$5=i1({editableHabit:$0,onMount:X5}),Q5=()=>{x.start("mount"),gX.resetIdCounter(),$5(),x.start("run")};Q5();
